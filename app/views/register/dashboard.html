<div id="RegisterPage" class="overflow-hidden">
    <link href="/app/css/register.css" rel="stylesheet">
    <link href="/app/css/record.css" rel="stylesheet">
    <register-top-menu></register-top-menu>

    <div class="innerPageContent register-content m-0 p-3">

        <div class="register-content-header bg-darkgrey color-white">
                <h3 class="p-2 m-0 d-inline-flex">{{::('dashboardT.dashboard'|$translate)}} </h3>
                <div class="float-end d-inline-flex p-2">
                    <a rel="noopener" ng-href="#" class="color-white" ng-click="tour()">
                        <i class="fa fa-question-circle" aria-hidden="true"></i>
                        <span class="hidden-sm"> {{::('dashboardT.dashboardTour'|$translate)}}</span>
                    </a>
                </div>
        </div>

        <div class="register-content-content bg-white" style="border-bottom: 0.125rem solid #ccc">

            <div class="mt-2 mb-3">
                <h4 class="my-0 p-0 pb-1 border-bottom fs-6">
                    <i class="bi bi-chevron-down cursor-pointer" ng-show="!showProfileInfo" aria-hidden="true"
                        ng-click="showProfileInfo=true;toggleTooTip()"></i>
                    <i class="bi bi-chevron-up cursor" ng-show="showProfileInfo" aria-hidden="true"
                        ng-click="showProfileInfo=false"></i>
                    <span id="showProfileInfo" class="color-black">
                        <span class="table_display_none">{{::('dashboardT.welcome'|$translate)}} </span>
                        <span class="fw-bold" ng-bind="::user.name"></span>
                        <a class="badge bg-secondary align-bottom link-light" ng-click="showUserRoles()">
                            <span ng-if="::(roles.isUser && (!roles.isNationalFocalPoint && !roles.isPublishingAuthority && !roles.isNationalAuthorizedUser))">
                                {{::('dashboardT.registeredUser'|$translate)}}
                            </span>
                            <span ng-if="::(roles.isPublishingAuthority && isAbs)">
                                {{::('dashboardT.publishingAuthority'|$translate)}}
                            </span>
                            <span class="comma-space" ng-if="::(roles.isNationalFocalPoint && isAbs)">
                                {{::('dashboardT.absNationalFocalPoint'|$translate)}}</span>
                            <span class="comma-space d" ng-if="::(roles.isPublishingAuthority && isBch)">
                                {{::('dashboardT.bchNationalPoint'|$translate)}}</span>
                            <span class="comma-space " ng-if="::(roles.isNationalFocalPoint && isBch)">Cartagena
                                {{::('dashboardT.nationalFocalPoint'|$translate)}}</span>
                            <span class="comma-space" ng-if="::roles.isNationalAuthorizedUser">
                                {{::('dashboardT.nationalAuthorizedUser'|$translate)}}</span>
                        </a>
                    </span>
                </h4>
                <div class="row bg-light m-0 p-o py-1" id="welcomeSection" ng-if="showProfileInfo">
                    <div class="col-md-6 cp-header">
                        <table>
                            <tr>
                                <td>
                                    <label>{{::('dashboardT.name'|$translate)}}</label>
                                </td>
                                <td ng-bind="::user.name"></td>
                            </tr>
                            <tr>
                                <td>
                                    <label>{{::('dashboardT.primaryEmail'|$translate)}}</label>
                                </td>
                                <td ng-bind="user.email"></td>
                            </tr>
                            <tr>
                                <td>
                                    <label>{{::('dashboardT.countryAffiliation'|$translate)}}</label>
                                </td>
                                <td ng-if="user.government">
                                    <a class="text-decoration-none" rel="noopener" translation-url href="/countries/{{user.government | uppercase}}" ng-bind="userCountry|term"></a>
                                </td>
                                <td ng-if="!user.government">
                                    {{::('dashboardT.none'|$translate)}}
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-md-6 cp-header">
                        <table>
                            <tr>
                                <td>
                                    <label>{{::('dashboardT.roles'|$translate)}}</label>
                                </td>
                                <td>
                                    <span class="comma" ng-if="::roles.isNationalFocalPoint">
                                        <span ng-if="isAbs">
                                            {{::('dashboardT.nationalFocalPoint'|$translate)}}
                                            <span href="#" class="helpinfoInline fa fa-info-circle color-litegrey"
                                                data-bs-toggle="tooltip" data-html="true" data-container="body"
                                                title="{{::('dashboardT.nationalFocalPointInfo'|$translate)}}"></span>
                                        </span>
                                        <span ng-if="isBch">
                                            Cartagena {{::('dashboardT.nationalFocalPoint'|$translate)}} (CPB-NFP)
                                            <span href="#" class="helpinfoInline fa fa-info-circle color-litegrey"
                                                data-bs-toggle="tooltip" data-html="true" data-container="body"
                                                title="{{::('dashboardT.cartagenaInfo'|$translate)}}"></span>
                                        </span>
                                    </span>

                                    <span class="comma" ng-if="::roles.isPublishingAuthority">
                                        <span ng-if="isAbs">{{::('dashboardT.isPublishingAuthority'|$translate)}}
                                            <span href="#" class="helpinfoInline fa fa-info-circle color-litegrey" data-bs-toggle="tooltip" data-html="true" data-container="body" 
                                            title="{{::('dashboardT.isPublishingAuthorityInfo'|$translate)}}"></span>
                                        </span>  
                                        <span ng-if="isBch">  
                                            BCH {{::('dashboardT.nationalFocalPoint'|$translate)}} (BCH-NFP)           
                                            <span href="#" class="helpinfoInline fa fa-info-circle color-litegrey" data-bs-toggle="tooltip" data-html="true" data-container="body" 
                                                title="{{::('dashboardT.countryDesignation'|$translate)}}">
                                            </span>
                                        </span>
                                    </span>

                                    <span class="comma" ng-if="::roles.isNationalAuthorizedUser">
                                        {{::('dashboardT.NAU'|$translate)}}
                                        <span ng-if="isBch" href="#" class="helpinfoInline fa fa-info-circle color-litegrey" data-bs-toggle="tooltip" data-html="true" data-container="body" 
                                            title="{{::('dashboardT.bchNAU'|$translate)}}">
                                        </span><span ng-if="isAbs" href="#" class="helpinfoInline fa fa-info-circle color-litegrey" data-bs-toggle="tooltip" data-html="true" data-container="body" 
                                            title="{{::('dashboardT.absNAU'|$translate)}}"></span></span>
                                    </span>

                                    <span class="comma" ng-if="::(roles.isUser && (!roles.isNationalFocalPoint && !roles.isPublishingAuthority && !roles.isNationalAuthorizedUser))">
                                        {{::('dashboardT.registeredUser'|$translate)}}
                                        <span href="#" class="helpinfoInline fa fa-info-circle color-litegrey" data-bs-toggle="tooltip" data-html="true" data-container="body" 
                                            title="{{::('dashboardT.CBDSecretariat'|$translate)}}"></span></span>
                                        <span class="comma" ng-if="::roles.isAdministrator">
                                            <strong class="color-pink">{{::('dashboardT.admin'|$translate)}}</strong>
                                        </span>

                                    </span>

                                </td>
                                <td class="ps-2"><a rel="noopener" class="badge bg-secondary link-light" href="#" ng-click="showUserRoles()">{{::('dashboardT.allRoles'|$translate)}}</a></td>
                            </tr>
                            <tr>
                                <td>
                                    <label>{{::('dashboardT.updateProfile'|$translate)}}</label>
                                </td>
                                <td>
                                    <a class="text-decoration-none" rel="noopener" translation-url href="https://accounts.cbd.int/profile" target="_blank">
                                        accounts.cbd.int/profile
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label>{{::('dashboardT.updatePassword'|$translate)}}</label>
                                </td>
                                <td>
                                    <a class="text-decoration-none" rel="noopener" translation-url href="https://accounts.cbd.int/password" target="_blank">
                                        accounts.cbd.int/password
                                    </a>
                                </td>
                                <td></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>

            <top-requests view-all-url="/register/requests"></top-requests>

            <h4 class="my-0 p-0 pb-1 border-bottom fs-6 pt-2" id="recordOverview">
                <i class="bi bi-chevron-down cursor-pointer" ng-show="!showRecordsSection" aria-hidden="true"
                        ng-click="showRecordsSection=true;toggleTooTip()"></i>
                    <i class="bi bi-chevron-up cursor" ng-show="showRecordsSection" aria-hidden="true"
                        ng-click="showRecordsSection=false"></i>

                {{::('dashboardT.recordOverview'|$translate)}}
            </h4>

            <div class="row bg-light m-0 pt-2 py-1" ng-if="showRecordsSection==true">

                <div ng-if="::roles.isNationalUser||roles.is('Administrator')" class="m-0 mt-2 mb-3 ">                    
                    <div ng-if="::roles.isNationalSchemaUser(schema) || roles.is('Administrator')">
                        <table class="overview table w-100">
                            <thead class="mb-1">
                                <tr class="fw-bold" ng-if="::roles.isUser">
                                    <th colspan="2">
                                        <span class="color-blue">{{::('dashboardT.nationalRecords'|$translate)}}</span>
                                        <span href="#" class="helpinfoInline fa fa-info-circle color-litegrey"
                                            data-bs-toggle="tooltip" data-html="true" data-container="body"
                                            ng-if="isAbs"
                                            title="{{::('dashboardT.nationalRecordsAbs'|$translate)}}">
                                        </span>
                                        <span href="#" class="helpinfoInline fa fa-info-circle color-litegrey"
                                            data-bs-toggle="tooltip" data-html="true" data-container="body"
                                            ng-if="isBch"
                                            title="{{::('dashboardT.nationalRecordsBch'|$translate)}}">
                                        </span>
                                    </th>
                                    <th class="table_display_none">
                                        <span id="offlineFormat" class="float-end pe-4">{{::('dashboardT.offlineFormats'|$translate)}}</span>
                                    </th>
                                    <th style="width: 7%;" id="publishFormat" class="text-center table_display_none">{{::('dashboardT.published'|$translate)}}</th>
                                    <th style="width: 7%;" class="text-center table_display_none">{{::('dashboardT.drafts'|$translate)}}</th>
                                    <th style="width: 7%;" class="text-center table_display_none">{{::('dashboardT.requests'|$translate)}}</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="visited-background" ng-if="::roles.isNationalSchemaUser('focalPoint') || roles.is('Administrator')">
                                    <td class="table_width">
                                        <div class="btn-group btn-group-sm p-0 table_width" role="group">
                                            <button disabled type="button"
                                                class="btn btn-outline-secondary bg-litegrey  p-0"
                                                title="{{::('dashboardT.quickView'|$translate)}}" data-bs-toggle="tooltip"><i
                                                    class="bi bi-chevron-down cursor-pointer p-1"></i></button>
                                            <button disabled type="button"
                                                class="btn btn-outline-secondary bg-litegrey  p-0"
                                                title="{{::('dashboardT.addRecord'|$translate)}}" data-bs-toggle="tooltip"><i
                                                    class="bi bi-plus fs-5 fw-bold d-inline-flex"></i></button>
                                            <button disabled type="button"
                                                class="btn btn-outline-secondary bg-litegrey  p-0"
                                                title="{{::('dashboardT.viewAllRecords'|$translate)}}" data-bs-toggle="tooltip"><i
                                                    class="bi bi-list fs-5 fw-bold d-inline-flex"></i></button>
                                        </div>
                                    </td>
                                    <td class="table-min-width">
                                        <span translation-url class="ps-2 text-dark text-decoration-none">
                                            {{::('dashboardT.nationalFocalPoint'|$translate)}} (NFP)</span>
                                        <span ng-if="schemas['focalPoint'].description" href="#"
                                            class="helpinfoInline fa fa-info-circle color-litegrey"
                                            data-bs-toggle="tooltip" data-html="true"
                                            title="{{schemas['focalPoint'].description|lstring:locale}}"
                                            data-container="body"></span>



                                    </td>
                                    <td class="table_max_width text-end">
                                        <span class="table_display_none" ng-include="'offline-formats'"
                                            onload="schema='focalPoint'"></span>
                                    </td>

                                    <td style="width:21%;" colspan="3" class="text-center table_display_none">

                                        <span rel="noopener" ng-if="isAbs" class="ps-2 bold small text-secondary">
                                            {{::('dashboardT.designationOffline'|$translate)}}
                                        </span>

                                        <a ng-if="isBch" class="ps-2 bold small  text-secondary" target="_new"
                                            href="/kb/tags/getting-started/Procedure-for-nominating-National-Focal-Points/619c555d4f1f30000140eef4">
                                            {{::('dashboardT.explanatoryAppointment'|$translate)}} <i
                                                class="fa fa-external-link"></i>
                                        </a>

                                    </td>
                                </tr>
                                <tr class="visited-background"  ng-if="isAbs">
                                    <td class="table_width">
                                        <div class="btn-group btn-group-sm table_width" role="group">
                                            <button disabled type="button"
                                                class="btn bg-litegrey btn-outline-secondary p-0"
                                                title="{{::('dashboardT.quickView'|$translate)}}" data-bs-toggle="tooltip"><i
                                                    class="bi bi-chevron-down cursor-pointer p-1"></i></button>
                                            <button type="button" class="btn btn-outline-dark p-0"
                                                ng-click="goto('/register/national-users')" title="{{::('dashboardT.addUpdatePA'|$translate)}}"
                                                data-bs-toggle="tooltip"><i
                                                    class="bi bi-plus fs-5 fw-bold d-inline-flex"></i></button>
                                            <button disabled type="button"
                                                class="btn btn-outline-secondary bg-litegrey p-0"
                                                title="{{::('dashboardT.viewAllRecords'|$translate)}}" data-bs-toggle="tooltip"><i
                                                    class="bi bi-list fs-5 fw-bold d-inline-flex"></i></button>
                                        </div>
                                    </td>
                                    <td class="table-min-width">
                                        <span rel="noopener" class="ps-2 text-decoration-none">
                                            {{::('dashboardT.ABSPA'|$translate)}} </span>


                                    </td>
                                    <td class="table_max_width text-end">
                                        <span class="table_display_none" ng-include="'offline-formats'"
                                            onload="schema='publishingAuthority'"></span>
                                    </td>

                                    <td style="width:21%;" colspan="3" class="text-center table_display_none">

                                        <a rel="noopener" translation-url class="ps-2 small bold link-secondary"
                                            target="_new"
                                            href="/kb/tags/abs/Designating-or-updating-the-Publishing-Authority-PA-or-National-Authorized-Users-NAUs-/619ea0429b7a7500012450c3">
                                            {{::('dashboardT.moreOnNationalUsers'|$translate)}} <i class="fa fa-external-link"></i>
                                        </a>
                                    </td>
                                </tr>
                                <tr class="visited-background" ng-repeat-start="schema in nationalSchemas">
                                    <td class="table_width">
                                        <div class="btn-group bg-white btn-group-sm table_width" role="group">
                                            <button type="button" class="btn btn-outline-dark p-0"
                                                title="{{::('dashboardT.quickView'|$translate)}}" data-bs-toggle="tooltip"
                                                ng-click="showTopRecords($event,schema)">
                                                <i class="bi bi-chevron-down cursor-pointer p-1"
                                                    ng-class="{'bi bi-chevron-down':!topRecords[schema], 'bi bi-chevron-up':topRecords[schema]}"
                                                    aria-hidden="true"></i></button>
                                            <button type="button" class="btn btn-outline-dark p-0"
                                                title="{{::('dashboardT.addRecord'|$translate)}}" data-bs-toggle="tooltip"
                                                ng-click="gotoNew($event,schema)"><i
                                                    class="bi bi-plus fs-5 fw-bold d-inline-flex"></i></button>
                                            <button type="button" class="btn btn-outline-dark p-0"
                                                title="{{::('dashboardT.viewAllRecords'|$translate)}}" data-bs-toggle="tooltip"
                                                ng-click="gotoList($event,schema)"><i
                                                    class="bi bi-list fs-5 fw-bold d-inline-flex"></i></button>
                                        </div>
                                    </td>
                                    <td class="table-min-width">
                                        <a rel="noopener" translation-url href="#" ng-click="gotoList($event,schema)"
                                            class="color-darkgrey ps-2 text-decoration-none">
                                            <span ng-bind="schema|schemaNamePlural"></span> (<span
                                                ng-bind="schema|urlSchemaShortName"></span>)</a>
                                        <span ng-if="schemas[schema].description" href="#"
                                            class="helpinfoInline fa fa-info-circle color-litegrey"
                                            data-bs-toggle="tooltip" data-html="true"
                                            title="{{schemas[schema].description|lstring:locale}}"
                                            data-container="body"></span>
                                    </td>
                                    <td class="table_max_width text-end">
                                        <span class="table_display_none" ng-include="'offline-formats'"></span>
                                    </td>
                                    <td class="text-center table_display_none td_width">
                                        <a rel="noopener" translation-url
                                            ng-href="/register/{{schema|urlSchemaShortName|encodeURIComponent}}/status/published"
                                            class="badge bg-success text-decoration-none"
                                            ng-class="{'bg-litegrey': facets(schema,'publish')===0}"
                                            ng-bind="facets(schema,'publish')"></a>
                                    </td>
                                    <td class="text-center  table_display_none td_width">
                                        <a rel="noopener"
                                            translation-url
                                            ng-href="/register/{{schema|urlSchemaShortName|encodeURIComponent}}/status/drafts"
                                            class="badge bg-secondary text-decoration-none"
                                            ng-class="{'bg-litegrey': Math.max(0, facets(schema,'draft') - facets(schema,'request'))===0}">
                                            <span
                                                ng-bind="Math.max(0,facets(schema,'draft') - facets(schema,'request'))"></span></a>
                                    </td>
                                    <td class="text-center  table_display_none td_width">
                                        <a rel="noopener"
                                            translation-url
                                            ng-href="/register/{{schema|urlSchemaShortName|encodeURIComponent}}/status/requests"
                                            class="badge bg-request text-decoration-none"
                                            ng-class="{'bg-litegrey': facets(schema,'request')===0}"
                                            ng-bind="facets(schema,'request')"></a>
                                    </td>
                                </tr>                                
                                <tr ng-if="topRecords[schema]" class="w-100" style="background-color:#e1e1e1;">
                                    <td colspan="6">                                    
                                    <top-records schema="{{schema}}" top="10" show-schema-name="false">
                                    </top-records>
                                    </td>
                                </tr>
                                <tr ng-repeat-end>
                                    <td colspan="6"></td>
                                </tr>
                            </tbody>
                        </table>                        
                    </div>
                </div>

                <div class="m-0 mt-2 mb-3 " ng-if="::roles.isSchemaUser(schema) || roles.is('Administrator')">
                    <table class="overview table w-100">
                        <thead class="mb-1">
                            <tr class="fw-bold">
                                <td colspan="2">
                                    <span class="color-orange"> {{::('dashboardT.referenceRecords'|$translate)}}
                                        <span href="#" class="helpinfoInline fa fa-info-circle color-litegrey"
                                            data-bs-toggle="tooltip" data-html="true" data-container="body"
                                            ng-if="isAbs"
                                            title="{{::('dashboardT.referenceRecordsAbs'|$translate)}}"></span>
                                        <span href="#" class="helpinfoInline fa fa-info-circle color-litegrey"
                                            data-bs-toggle="tooltip" data-html="true" data-container="body"
                                            ng-if="isBch"
                                            title="{{::('dashboardT.referenceRecordsBch'|$translate)}}"></span>
                                    </span>
                                </td>
                                <td class="table_display_none text-end">
                                    <span id="offlineFormat" class="pe-4">{{::('dashboardT.offlineFormats'|$translate)}}</span>
                                </td>
                                <td style="width: 7%;" id="publishFormat"
                                    class="text-center table_display_none">
                                    {{::('dashboardT.published'|$translate)}}</td>
                                <td style="width: 7%;" class="text-center table_display_none">{{::('dashboardT.drafts'|$translate)}}</td>
                                <td style="width: 7%;" class="text-center table_display_none">{{::('dashboardT.requests'|$translate)}}</td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="visited-background" ng-repeat-start="schema in referenceSchemas">
                                <td class="table_width">
                                    <div class="btn-group align-middle btn-group-sm table_width" role="group">
                                        <button type="button" class="btn btn-outline-dark p-0"
                                            title="{{::('dashboardT.quickView'|$translate)}}" data-bs-toggle="tooltip"
                                            ng-click="showTopRecords($event,schema)">
                                            <i class="bi bi-chevron-down cursor-pointer p-1"
                                                ng-class="{'bi bi-chevron-down':!topRecords[schema], 'bi bi-chevron-up':topRecords[schema]}"
                                                aria-hidden="true"></i>
                                            <button type="button" class="btn btn-outline-dark p-0"
                                                title="{{::('dashboardT.addRecord'|$translate)}}" data-bs-toggle="tooltip"
                                                ng-click="gotoNew($event,schema)"><i
                                                    class="bi bi-plus fs-5 fw-bold d-inline-flex"></i></button>
                                            <button type="button" class="btn btn-outline-dark p-0"
                                                title="{{::('dashboardT.viewAllRecords'|$translate)}}" data-bs-toggle="tooltip"
                                                ng-click="gotoList($event,schema)"><i
                                                    class="bi bi-list fs-5 fw-bold d-inline-flex"></i></button>
                                    </div>
                                </td>
                                <td class="table-min-width">
                                    <a rel="noopener" translation-url href="#" ng-click="gotoList($event,schema)"
                                        class="color-darkgrey ps-2 text-decoration-none">
                                        <span ng-bind="schema|schemaNamePlural"></span> (<span
                                            ng-bind="schema|urlSchemaShortName"></span>)</a>

                                    <span ng-if="schemas[schema].description" href="#"
                                        class="helpinfoInline fa fa-info-circle color-litegrey" data-bs-toggle="tooltip"
                                        data-html="true" title="{{schemas[schema].description|lstring:locale}}"
                                        data-container="body"></span>
                                </td>
                                <td class="table_max_width text-end">
                                    <span class="table_display_none" ng-include="'offline-formats'"></span>
                                </td>
                                <td class="text-center  table_display_none td_width"><a rel="noopener" translation-url
                                        ng-href="/register/{{schema|urlSchemaShortName|encodeURIComponent}}/status/published"
                                        class="badge bg-success text-decoration-none"
                                        ng-class="{'bg-litegrey': facets(schema,'publish')===0}"
                                        ng-bind="facets(schema,'publish')"></a>
                                </td>

                                <td class="text-center  table_display_none td_width"><a rel="noopener" translation-url
                                        ng-href="/register/{{schema|urlSchemaShortName|encodeURIComponent}}/status/drafts"
                                        class="badge bg-secondary text-decoration-none"
                                        ng-class="{'bg-litegrey': Math.max(0, facets(schema,'draft') - facets(schema,'request'))===0}"
                                        ng-bind="Math.max(0,
                                            facets(schema,'draft') - facets(schema,'request'))"></a> </td>

                                <td class="text-center  table_display_none td_width"><a rel="noopener" translation-url
                                        ng-href="/register/{{schema|urlSchemaShortName|encodeURIComponent}}/status/requests"
                                        class="badge bg-request text-decoration-none"
                                        ng-class="{'bg-litegrey': facets(schema,'request')===0}"
                                        ng-bind="facets(schema,'request')"></a>
                                </td>
                            </tr>
                            <tr ng-if="topRecords[schema]" class="w-100"  style="background-color:#e1e1e1;">                                
                                <td colspan="6">
                                    <top-records schema="{{schema}}" top="10" class="pt-1" show-schema-name="false">
                                    </top-records>
                                </td>
                            </tr>
                            <tr ng-repeat-end>
                                <td colspan="6"></td>
                            </tr>
                        </tbody>
                    </table>                    
                </div>

                <div ng-if="::roles.isSchemaUser('contact') || roles.is('Administrator')"   class="m-0 mt-2 mb-3 ">
                    <div class="mb-1 border-bottom bold color-darkgrey">{{::('dashboardT.contactRecords'|$translate)}}</div>
                    <div class="pb-2">
                        <table class="overview table w-100">
                            <thead></thead>
                            <tbody>
                                <tr class="visited-background">
                                    <td class="table_width">
                                        <div class="btn-group btn-group-sm table_width" role="group">
                                            <button id="quickViewContact" type="button" class="btn btn-outline-dark p-0"
                                                title="{{::('dashboardT.quickView'|$translate)}}" data-bs-toggle="tooltip"
                                                ng-click="showTopRecords($event,'contact')">
                                                <i class="bi bi-chevron-down p-1 cursor-pointer"
                                                    ng-class="{'bi bi-chevron-down':!topRecords['contact'], 'bi bi-chevron-up':topRecords['contact']}"
                                                    aria-hidden="true"></i></button>
                                            <button id="addNewRecordContact" type="button"
                                                class="btn btn-outline-dark p-0" title="{{::('dashboardT.addRecord'|$translate)}}"
                                                data-bs-toggle="tooltip" ng-click="gotoNew($event,'contact')"><i
                                                    class="bi bi-plus fs-5 fw-bold d-inline-flex"></i></button>
                                            <button id="viewListContact" type="button" class="btn btn-outline-dark p-0"
                                                title="{{::('dashboardT.viewAllRecords'|$translate)}}" data-bs-toggle="tooltip"
                                                ng-click="gotoList($event,'contact')"><i
                                                    class="bi bi-list fs-5 fw-bold d-inline-flex"></i></button>
                                        </div>
                                    </td>
                                    <td class="table-min-width">
                                        <a rel="noopener" translation-url href="#" ng-click="gotoList($event,'contact')"
                                            class="color-darkgrey ps-2 text-decoration-none">
                                            <span ng-bind="schemas['contact'].titlePlural|lstring:locale"></span>
                                            (<span ng-bind="schemas['contact'].shortCode|lstring:locale"></span>)
                                        </a>
                                        <span ng-if="schemas['contact'].description" href="#"
                                            class="helpinfoInline fa fa-info-circle color-litegrey"
                                            data-bs-toggle="tooltip" data-html="true"
                                            title="{{schemas['contact'].description|lstring:locale}}"
                                            data-container="body"></span>

                                    </td>
                                    <td class="table_max_width text-end">
                                        <span class="table_display_none" ng-include="'offline-formats'"
                                            onload="schema='contact'"></span>
                                    </td>
                                    <td class="text-center table_display_none td_width"><a rel="noopener"
                                            translation-url ng-href="/register/CON/status/published"
                                            class="badge bg-success text-decoration-none"
                                            ng-class="{'bg-litegrey': facets('contact','publish')===0}"
                                            ng-bind="facets('contact','publish')"></a>
                                    </td>

                                    <td class="text-center  table_display_none td_width"><a rel="noopener"
                                            translation-url ng-href="/register/CON/status/drafts"
                                            class="badge bg-secondary text-decoration-none"
                                            ng-class="{'bg-litegrey': Math.max(0, facets('contact','draft') - facets('contact','request'))===0}"
                                            ng-bind="Math.max(0, facets('contact','draft') - facets('contact','request'))"></a>
                                    </td>

                                    <td class="text-center  table_display_none td_width"><a rel="noopener"
                                            translation-url ng-href="/register/CON/status/requests"
                                            class="badge bg-danger text-decoration-none"
                                            ng-class="{'bg-litegrey': facets('contact','request')===0}"
                                            ng-bind="facets('contact','request')"></a>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div ng-if="topRecords['contact']" class="w-100"  style="background-color:#e1e1e1;">
                            <top-records schema="contact" top="10" class="pt-1" show-schema-name="false">
                            </top-records>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <joyride ng-if="tourOn"></joyride>
</div>

            <script type="text/ng-template" trados-translation="true" id="rolesDialog">
                <div class="modal-header">
                    <h3 class="modal-title">
                        {{::('dashboardT.myRoles'|$translate)}}
                    </h3>
                </div>
                <div class="modal-body"> 
                    <table class="table table-striped table-bordered table-condensed w-100">                                
                        <tr ng-repeat="role in userRoles|orderBy:'name'">                                    
                            <td ng-bind="role.name"></td>             
                        </tr>
                    </table>  
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" aria-label="Close" ng-click="closeDialog()" ng-disabled="loading">{{::('dashboardT.close'|$translate)}}</button>
                </div>
            </script>

            <script type="text/ng-template" trados-translation="true" id="offline-formats">                
                <span ng-repeat="(code, lang) in ::languages">
                    <span  title="{{::lang}}" data-bs-toggle="tooltip" data-container="body">
                        <a ng-if="::offlineFormats[schema][code]"  rel="noopener" target="_blank" 
                        ng-href="{{::offlineFormats[schema][code]|encodeURI}}" ng-bind="::code"></a>
                        <span ng-if="::!$last && offlineFormats[schema][code]"> | </span>
                    </span>
                </span>
            </script>
        </div>
    </div>
</div>