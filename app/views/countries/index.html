<div ng-controller="CountriesMapController">
    <style>
        table{
          border-collapse:collapse;
        }
        .tableContainer{
              margin:auto;
        }
        .fixed{
          top:0;
          position:fixed;

        }
        .scrollMore{
          margin-top:600px;
        }

        .up{
          cursor:pointer;
        }
        .table-hover > tbody > tr:hover > td{
          background-color: #FFF;
        }
        .letter{color:#999;}
         .letter-active{
            font-weight: bold;
            color:#111!important;
        }
        .evenly-spaced {
  display: flex;
  justify-content: space-between;
}
.zero{
    background-color: #DDD!important;
}

@media (max-width: 992px) {
    .sm-small {
        font-size:10px;
    }
}

    </style>


    <div id="Jumbotron" class="bg-texture-green color-black" style="border-top:1px solid #555;border-bottom:2px solid #ddd;">
        <search-map></search-map>
    </div>

        <div block-region activate="loading" block-text=" Loading country details">


        <div class="row bg-grey1" style="margin:10px 0 5px 0;padding:10px 0 5px 0;border:1px solid #d5d5d5;">
            <div class="col-sm-12 col-md-6">

                 <div class="dropdown" style="display:inline;">
                    <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            <i ng-if="sortTerm==='name.en'" class="fa" ng-class="{'fa-sort-alpha-asc':!orderList, 'fa-sort-alpha-desc':orderList}" style="width:20px;"></i>
                            <span ng-if="sortTerm!=='name.en'">Ordered by: <strong> {{sortTerm}}</strong></span>
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                        <li><a href="#" ng-click="sortTable('name.en', 'ASC')"><i class=" fa fa-sort-alpha-asc" style="width:20px;"></i> Sort alphabetical A-Z </a></li>
                        <li><a href="#" ng-click="sortTable('name.en', 'DESC')"><i class=" fa fa-sort-alpha-desc" style="width:20px;"></i> Sort alphabetical Z-A</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#" ng-click="sortTable('NFP')"> {{ "NFP" | mapSchema |schemaNamePlural}}   <!--<span class="badge">{{headerCount.focalPoint}}</span>--></a></li>
                        <li><a href="#" ng-click="sortTable('CNA')"> {{ "CNA" | mapSchema |schemaNamePlural}}   <!--<span class="badge">{{headerCount.authority}}</span>--></a></li>
                        <li><a href="#" ng-click="sortTable('MSR')"> {{ "MSR" | mapSchema |schemaNamePlural}}   <!--<span class="badge">{{headerCount.measure}}</span>--></a></li>
                        <li><a href="#" ng-click="sortTable('NDB')"> {{ "NDB" | mapSchema |schemaNamePlural}}   <!--<span class="badge">{{headerCount.database}}</span>--></a></li>
                        <li><a href="#" ng-click="sortTable('IRCC')"> {{ "IRCC" | mapSchema |schemaNamePlural}} <!--<span class="badge">{{headerCount.absPermit}}</span>--></a></li>
                        <li><a href="#" ng-click="sortTable('CPC')"> { "CPC"  mapSchema schemaNamePlural}       <!--<span class="badge">{{headerCount.absCheckpoint}}</span>--></a></li>
                        <li><a href="#" ng-click="sortTable('CP')"> {{ "CP" | mapSchema |schemaNamePlural}}     <!--<span class="badge">{{headerCount.absCheckpointCommunique}}</span>--></a></li>
                        <li><a href="#" ng-click="sortTable('NR')"> {{ "NR" | mapSchema |schemaNamePlural}}     <!--<span class="badge">{{headerCount.nationalReport}}</span>--></a></li>
                    </ul>
                    </div>


                    <input type="text" class="form-control" ng-model="keyword" placeholder="search for a country" style="width:180px;display:inline;margin-left:3px;"></input>
                    <div class="visible-md" style="padding-top:5px;"></div>
                    <div style="padding-top:5px;" class="visible-xs"></div>
                    <a ng-href="#" ng-click="setLetterFilter('All')" style="margin-left:10px;" class="letter" ng-class="{'letter-active':!letterFilter && !partyFilter}" >All</a>
                    <a ng-href="#" ng-click="setPartyFilter('party')" style="margin-left:10px;" class="letter  " ng-class="{'letter-active':partyFilter == 'party'}">
                        <i class="color-party fa fa-square"></i> Parties</a>
                        <a ng-href="#" ng-click="setPartyFilter('inbetween')" style="margin-left:10px;" class="letter  " ng-class="{'letter-active':partyFilter == 'inbetween'}">
                        <i class="color-inbetween fa fa-square"></i> Ratified not yet Party</a>
                    <a ng-href="#" ng-click="setPartyFilter('nonparty')" style="margin-left:10px;" class="letter " ng-class="{'letter-active':partyFilter == 'nonparty'}" >
                        <i class="color-nonparty fa fa-square"></i>  Non-Parties</a>





              </div>
              <div class="col-xs-6 evenly-spaced center-text hidden-xs hidden-sm" >
                            <div>
                                <span style="cursor:pointer;" ng-click="sortTable('NFP')" data-toggle="tooltip" title="National ABS Focal Points" data-container="body">
                                    <span id="nfpCount" class="bold color-black">NFP&nbsp;<i class="fa fa-info-circle color-litegrey" ></i></span><br>
                                    <!--<span class="badge">{{headerCount.focalPoint}}</span>-->
                                </span>
                            </div>

                            <div>
                                <span style="cursor:pointer;" ng-click="sortTable('CNA')" data-toggle="tooltip" title="Competent National Authorities" data-container="body">
                                    <span id="cnaCount" class="bold color-black">CNA&nbsp;<i class="fa fa-info-circle color-litegrey" ></i></span><br>
                                    <!--<span class="badge">{{headerCount.authority}}</span>-->
                                </span>
                            </div>
                            <div>
                                <span style="cursor:pointer;" ng-click="sortTable('MSR')" data-toggle="tooltip" title="Legislative, administrative or policy measures" data-container="body">
                                    <span id="msrCount" class="bold color-black">MSR&nbsp;<i class="fa fa-info-circle color-litegrey" ></i></span><br>
                                    <!--<span class="badge">{{headerCount.measure}}</span>-->
                                </span>
                            </div>
                             <div>
                                <span style="cursor:pointer;" ng-click="sortTable('NDB')" data-toggle="tooltip" title="National Websites and Databases" data-container="body">
                                    <span id="ndbCount" class="bold color-black">NDB&nbsp;<i class="fa fa-info-circle color-litegrey" ></i></span><br>
                                    <!--<span class="badge">{{headerCount.database}}</span>-->
                                </span>
                            </div>

                            <div>
                                <span style="cursor:pointer;" ng-click="sortTable('IRCC')" data-toggle="tooltip" title="Internationally Recognized Certificate of Compliance" data-container="body">
                                    <span id="irccCount" class="bold color-black">IRCC&nbsp;<i class="fa fa-info-circle color-litegrey" ></i></span><br>
                                    <!--<span class="badge">{{headerCount.absPermit}}</span>-->
                                </span>
                            </div>
                            <div>
                                <span style="cursor:pointer;" ng-click="sortTable('CP')" data-toggle="tooltip" title="Checkpoints" data-container="body">
                                    <span id="cpCount" class="bold color-black">CP&nbsp;<i class="fa fa-info-circle color-litegrey" ></i> </span><br>
                                    <!--<span class="badge">{{headerCount.absCheckpoint}}</span>-->
                                </span>
                            </div>
                            <div>
                                <span style="cursor:pointer;" ng-click="sortTable('CPC')" data-toggle="tooltip" title="Checkpoint CommuniquÃ©s" data-container="body">
                                    <span id="cpcCount" class="bold color-black">CPC&nbsp;<i class="fa fa-info-circle color-litegrey" ></i> </span><br>
                                    <!--<span class="badge">{{headerCount.absCheckpointCommunique}}</span>-->
                                </span>
                            </div>
                             <div>
                                <span style="cursor:pointer;" ng-click="sortTable('NR')" data-toggle="tooltip" title="Interim national reports" data-container="body">
                                    <span id="cpcCount" class="bold color-black">NR&nbsp;<i class="fa fa-info-circle color-litegrey" ></i> </span><br>
                                    <!--<span class="badge">{{headerCount.nationalReport}}</span>-->
                                </span>
                            </div>
                        </div>
                     </div> <!--end row-->

                     <div class="row linkWhite" style="margin:0;border-bottom:2px solid #DDD;padding:5px 0 10px 0;" ng-click="gotoCountryProfile(country.code)"   ng-repeat="country in ct = (countries | filter:keyword | filter: hasStatus | orderBy:sortTermFilter:orderList) track by country.name.en" ng-if="showCountry(country)">
                            <div class="col-md-6">
                                <div>
                                    <!--<span style="pull-left width:30px;overflow:hidden;">  {{$index+1}} </span>-->
                                    <span style="font-size:18px;font-weight:500;" ng-class="{'color-party': country.isNPParty, 'color-grey':!country.isNPParty, 'color-inbetween': country.isNPInbetweenParty}">
                                    {{country.name.en}}</span>
                                </div>
                                <div>
                                    <span ng-if="!country.isNPParty && !country.isNPInbetweenParty" class="color-grey bold"  style="font-size:10px;margin-right:10px;">Non-Party</span>
                                    <span ng-if="country.isNPParty" class="color-party bold"  style="font-size:10px;margin-right:10px;">Party to the Nagoya Protocol</span>
                                    <span ng-if="country.isNPInbetweenParty" class="color-inbetween bold"  style="font-size:10px;margin-right:10px;">Ratified not yet Party</span>
                                    <span ng-if="country.isNPSignatory" class="color-pink"  style="font-size:10px;margin-right:10px;">Signatory</span>
                                    <span ng-if="country.entryIntoForce" class="color-grey"  style="font-size:10px;margin-right:20px;">Entry into force: {{country.entryIntoForce|formatDate}}</span>
                                </div>
                            </div>

                            <div class="col-md-6 evenly-spaced center-text xs-small sm-small" style="white-space:nowrap;margin-top:5px;">
                                <span class="color-litegrey" style="margin-right:5px;"> NFP <span class="label label-default bg-darkgrey"  ng-class="{'zero':!country.schemas.focalPoint}" >{{country.schemas.focalPoint ? country.schemas.focalPoint  : "0"}}</span></span>
                                <span class="color-litegrey" style="margin-right:5px;"> CNA <span class="label label-default bg-darkgrey"  ng-class="{'zero':!country.schemas.authority}">{{country.schemas.authority ? country.schemas.authority  : "0"}}</span></span>
                                <span class="color-litegrey" style="margin-right:5px;"> MSR <span class="label label-default bg-darkgrey"  ng-class="{'zero':!country.schemas.measure}">{{country.schemas.measure ? country.schemas.measure  : "0"}}</span></span>
                                <span class="color-litegrey" style="margin-right:5px;"> NDB <span class="label label-default bg-darkgrey"  ng-class="{'zero':!country.schemas.database}">{{country.schemas.database ? country.schemas.database  : "0"}}</span></span>
                                <span class="color-litegrey" style="margin-right:5px;"> IRCC <span class="label label-default bg-darkgrey" ng-class="{'zero':!country.schemas.absPermit}">{{country.schemas.absPermit ? country.schemas.absPermit  : "0"}}</span></span>
                                <span class="color-litegrey" style="margin-right:5px;"> CP <span class="label label-default bg-darkgrey"   ng-class="{'zero':!country.schemas.checkpoint}">{{country.schemas.checkpoint ? country.schemas.checkpoint  : "0"}}</span></span>
                                <span class="color-litegrey" style="margin-right:5px;"> CPC <span class="label label-default bg-darkgrey"  ng-class="{'zero':!country.schemas.absCheckpointCommunique}">{{country.schemas.absCheckpointCommunique ? country.schemas.absCheckpointCommunique  : "0"}}</span></span>
                                <span class="color-litegrey" style="margin-right:0px;">  NR <span class="label label-default bg-darkgrey"  ng-class="{'zero':!country.schemas.nationalreport}">{{country.schemas.nationalreport ? country.schemas.nationalreport  : "0"}}</span></span>
                            </div>
                    </div>

                  </div><!--end loading-->

    </div><!--end controller-->
