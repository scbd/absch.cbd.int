<div >
    
    <div ng-if="currentCountry.code" style="padding:5px;"
     ng-class="{'bg-party': currentCountry.isParty, 'bg-non-party':!currentCountry.isParty, 
                'bg-inbetween': currentCountry.isInbetweenParty}">
        <div>
            <span ng-if="currentCountry.isParty">{{::('pinPopupBchT.partyToBiosafety'|$translate)}}</span>
            <span ng-if="currentCountry.isInbetweenParty">{{::('pinPopupBchT.ratified'|$translate)}}</span>
            <span ng-if="!currentCountry.isParty && !currentCountry.isInbetweenParty">{{::('pinPopupBchT.notPartyToBiosafety'|$translate)}}</span>
        </div>

        <div class="row abs-exception-tooltip"
        ng-if="countryMapScope.currentCountry.exceptionCountry=='dk'||countryMapScope.currentCountry.code.toLowerCase()=='dk'||
                countryMapScope.currentCountry.code.toLowerCase()=='fk'||countryMapScope.currentCountry.code.toLowerCase()=='eh'||
                countryMapScope.currentCountry.exceptionCountry=='gb'||countryMapScope.currentCountry.code.toLowerCase()=='gb'">
            <div class="col-lg-12">
                <div class="small" ng-if="(countryMapScope.currentCountry.code.toLowerCase()=='dk')"
                    style="margin-top:5px;white-space: normal;padding:3px;">
                    {{::('pinPopupBchT.dkText'|$translate)}}
                </div>
                <div ng-if="countryMapScope.currentCountry.exceptionCountry.toLowerCase()=='fk'"class="small " style="margin-top:5px;white-space: normal;padding:3px;">
                    {{::('pinPopupBchT.fkText'|$translate)}}
                </div>
                <div ng-if="countryMapScope.currentCountry.code.toLowerCase()=='eh'" class="small " style="margin-top:25px;white-space: normal;padding:3px;font-size: x-large;">
                    {{::('pinPopupBchT.ehText'|$translate)}}
                    Non-Self Governing Territory.
                </div>
                <div ng-if="(countryMapScope.currentCountry.code.toLowerCase()=='gb')" class="small" style="margin-top:5px;white-space: normal;padding:3px;">
                    {{::('pinPopupBchT.gbText'|$translate)}}
                    <a rel="noopener" ng-href="#"  class=" color-litegrey gb-territories" 
                    data-container="body" data-bs-toggle="tooltip" data-placement="top" title="{{::('pinPopupBchT.gbTitle13'|$translate)}}">{{::('pinPopupBchT.overseasTerritories'|$translate)}}</a>
                    {{::('pinPopupBchT.or'|$translate)}}
                    <a rel="noopener" ng-href="#" class=" color-litegrey gb-territories"  data-container="body" 
                        data-bs-toggle="tooltip" data-placement="left" title="{{::('pinPopupBchT.gbTitle3'|$translate)}}">{{::('pinPopupBchT.crownDependencies'|$translate)}}</a>
                </div>
            </div>
        </div>
    </div>
    <table class="table table-map table-condensed" style="display: block;overflow-x: auto;white-space: nowrap;" >
            <tr ng-repeat="schema in countryMapScope.currentCountry.schemas" style="border:none;">
                <td >
                    <span class="badge bg-black"  ng-bind="schema.count"></span>
                </td>
                <td>
                    <a rel="noopener" ng-if="currentCountry.code" translation-url href="{{translationUrl}}/countries/{{currentCountry.code}}/{{schema.shortCode}}"  style="color:#fff">
                        <span ng-bind="schema.title | lstring:locale"></span>
                        <span ng-if="schema.isRegional">
                            - <span ng-bind="schema.regionalGovernment|term:locale"></span>
                        </span>
                    </a>
                    <a rel="noopener" ng-if="!currentCountry.code" translation-url href="{{translationUrl}}/search?schema={{schema.shortCode|mapSchema}}&tab=nationalRecords"  style="color:#fff">
                        <span ng-bind="schema.title | lstring:locale"></span>
                    </a>
                </td>
            </tr>
        </table>
</div>
