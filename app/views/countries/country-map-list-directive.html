<div>
    <!-- Country Map and Other -->
    <div class="container-fluid ng-scope" style="min-height:800px;" id="worldMap">
        <!-- <div class="row row-centered" ng-hide="loadingFacets">

            <div class="col-xs-12 row-centered">


              <a ng-href="#" ng-click="searchFilter=isPartyToCBD;updateMap('party')">
                    <div class="col-xs-8ths" id="myWell">
                        <div class="box-0 text-center" style="vertical-align:middle;height:165px;">
                            <br>
                            <br>
                            <br>
                            <span class="stats-count">ALL</span>
                        </div>
                    </div>
                </a>


                <a ng-click="selected_facet=facet[0];updateMap(facet[0]);" ng-repeat="facet in commonFormatFacets" style="display:inline;cursor:pointer">

                    <div class="col-xs-8ths" id="myWell">
                        {{facet[0]}}
                        <div class="box-0 text-center" style="padding-bottom:14px;" ng-class="{'myWell-on': isSelected(facet[0])}">

                            <div ng-show="facet[0]== 'RAT'">
                                <div class="stats-count">{{facet[1].facetCount}} </div>
                                <div class="stats-country">Parties to the Nagoya Protocol</div>
                            </div>

                            <div ng-show="facet[0] != 'RAT' && facet[0] != 'resource'">

                                <div class="stats-top">
                                    <div class="stats-count">
                                        {{facet[1].countryCount}}
                                    </div>

                                    <div class="stats-country">
                                        <span ng-show="facet[1].countryCount">Countries </span>
                                    </div>
                                </div>

                                <div class="text-center">
                                    <hr style="padding:0;margin:5px 0;border:dashed 1px #ccc!important;" />
                                    <span class="stats-hr" ng-class="{'myWell-on': isSelected(facet[0])}" style="position:relative;top:-18px;background-color:#fff;" ng-show="facet[0]!= 'RAT'">have submitted</span>
                                </div>

                                <div class="stats-bottom">
                                    <div class="stats-bottom" style="position:relative;top:-18px;">
                                        <div class="stats-count-rec">{{facet[1].facetCount}}</div>
                                        <div class="stats-schema-rec">{{facet[0]|lowercase|schemaNamePlural}}</div>
                                    </div>
                                </div>

                            </div>


                            <div ng-show="facet[0]== 'resource'">
                                <div class="stats-count">{{facet[1].facetCount}} </div>
                                <div class="stats-country">{{facet[0]|lowercase|schemaNamePlural}}</div>
                            </div>


                        </div>

                    </div>
                </a>
            </div>
        </div> -->


                <div class="row" id="divMap" style="padding-top:20px;">
                    <div class="col-lg-12 col-md-12 col-xs-12">

                        <div id="vmap" style="width: 100%; min-height: 500px;background-color:#EEE!important;"></div>
                    </div>
                </div>

                <div class="row" id="divList" style="padding-top:0px;">
                    <div class="col-lg-12 col-md-12 col-xs-12">
                        <table class="table table-countries table-striped">
                            <tr>
                                <th></th>
                                <th>
                                    <span class="color-litegrey" style="padding-left:10px;">Country

                                        <span class="color-litegrey hidden-xs hidden-sm" style="font-size:12px;">Click country name to navigate to a profile</span>
                                    </span>
                                </th>
                                <th>
                                    <span class="color-litegrey">Status</span>
                                </th>
                                <th colspan="7"><span class="color-litegrey">National Records</span></th>
                            </tr>
                            <tr>
                                <th>
                                    <span style="font-size:14px;font-weight:bold;text-transform:uppercase;" class="color-litegrey">FILTER</span>
                                </th>
                                <th>

                                    <md-button class="md-raised md-mini bg-medgrey" aria-label="all" ng-click="listAll();selected_facet='all';updateMap('all');sortTable('name.en', 'ASC')">
                                            <span class="color-white">All countries ({{countries.length}})</span>
                                    </md-button>



                                </th>
                                <th>
                                    <md-button class="md-fab md-mini bg-blue" aria-label="Eat cake" ng-click="listAll();selected_facet='all';updateMap('all');sortTable('treaties.XXVII8b.deposit', 'DESC')">
                                            {{totalParties}}
                                    </md-button>

                                    <md-button class="md-fab md-mini bg-medgrey" aria-label="Eat cake" ng-click="listAll();selected_facet='all';updateMap('all');sortTable('treaties.XXVII8b.deposit', 'ASC')">
                                            {{totalNonParties}}
                                    </md-button>
                                </th>
                                <th> &nbsp; <md-button class="md-fab md-mini bg-medgrey1" aria-label="Eat cake"
                                                ng-click="selected_facet='focalPoint';updateMap('focalPoint');sortTable('FP');">
                                                <md-tooltip>
                                                    National Focal Points
                                                </md-tooltip>
                                                {{commonFormatFacets[6][1].facetCount}}
                                            </md-button></th>
                                <th> &nbsp; <md-button class="md-fab md-mini bg-medgrey1" aria-label="Eat cake"
                                                ng-click="selected_facet='database';updateMap('database');sortTable('NDB');" >
                                                <md-tooltip>
                                                    National Websites and Databases
                                                </md-tooltip>{{commonFormatFacets[5][1].facetCount}}
                                            </md-button></th>
                                <th> &nbsp; <md-button class="md-fab md-mini bg-medgrey1" aria-label="Eat cake"
                                                ng-click="selected_facet='authority';updateMap('authority');sortTable('CNA');">
                                                <md-tooltip>
                                                    Competent National Authorities
                                                </md-tooltip>
                                                {{commonFormatFacets[0][1].facetCount}}
                                            </md-button>
                                </th>
                                <th> &nbsp; <md-button class="md-fab md-mini bg-medgrey1" aria-label="Eat cake"
                                                ng-click="selected_facet='measure';updateMap('measure');sortTable('MSR');">
                                                <md-tooltip>
                                                    Legislative, administrative or policy measures
                                                </md-tooltip>
                                               {{commonFormatFacets[4][1].facetCount}}
                                            </md-button></th>
                                <th> &nbsp; <md-button class="md-fab md-mini bg-medgrey1" aria-label="Eat cake"
                                                ng-click="selected_facet='absPermit';updateMap('absPermit');sortTable('IRCC');">
                                                 <md-tooltip>
                                                     Internationally Recognized Certificate of Compliance
                                                 </md-tooltip>
                                                 {{commonFormatFacets[3][1].facetCount}}
                                            </md-button></th>
                                <th> &nbsp; <md-button class="md-fab md-mini bg-medgrey1" aria-label="Eat cake"
                                                ng-click="selected_facet='absCheckpoint';updateMap('absCheckpoint');sortTable('CP');">
                                                <md-tooltip>
                                                    Checkpoints
                                                </md-tooltip>
                                                {{commonFormatFacets[1][1].facetCount}}
                                            </md-button>
                                </th>
                                <th> &nbsp; <md-button class="md-fab md-mini bg-medgrey1" aria-label="Eat cake"
                                                ng-click="selected_facet='absCheckpointCommunique';updateMap('absCheckpointCommunique');sortTable('CPC');">
                                                 <md-tooltip>
                                                     Checkpoint Communiqués
                                                 </md-tooltip>
                                                 {{commonFormatFacets[2][1].facetCount}}
                                             </md-button>
                                </th>
                            </tr>
                            <tr>
                               <th  style="white-space:nowrap;font-size:14px;"><span style="font-size:14px;font-weight:bold;text-transform:uppercase;" class="color-litegrey">SORT</span></th>
                                <th style="white-space:nowrap;font-size:16px;">
                                    <a href="" class="label label-default  bg-darkgrey1" ng-click="sortTable('name.en', 'ASC')">
                                        <i class=" fa fa-sort-alpha-asc" ></i>
                                    </a>
                                    &nbsp; &nbsp;
                                    <a href="" class="label label-default bg-darkgrey1" ng-click="sortTable('name.en', 'DESC')">
                                        <i class=" fa fa-sort-alpha-desc" ></i>
                                    </a>
                                </th>
                                  <th style="white-space:nowrap;font-size:14px;">
                                    <span style="cursor:pointer;" ng-click="sortTable('treaties.XXVII8b.deposit')"><span ng-click="sortTable('treaties.XXVII8b.deposit', 'ASC')">Parties</span> / <span ng-click="sortTable('treaties.XXVII8b.deposit', 'DESC')">Non-Parties</span>
                                        <!-- <i ng-show="sortTerm=='treaties.XXVII8b.deposit'" ng:class="{true:'down-caret', false:'up-caret'}[orderList]"></i> -->
                                        </span>
                                </th>

                                <th style="white-space:nowrap;font-size:14px;text-align:center;">
                                    <span style="cursor:pointer;" ng-click="sortTable('FP')" >
                                        NFP
                                        <md-tooltip>
                                            National Focal Points
                                        </md-tooltip>
                                    </span>
                                </th>
                                <th style="white-space:nowrap;font-size:14px;text-align:center;">
                                    <span style="cursor:pointer;" ng-click="sortTable('NDB')" >
                                        NDB
                                        <md-tooltip>
                                            National Websites and Databases
                                        </md-tooltip>
                                        </span>
                                </th>
                                <th style="white-space:nowrap;font-size:14px;text-align:center;">
                                    <span style="cursor:pointer;" ng-click="sortTable('CNA')"  >CNA
                                        <md-tooltip>
                                            Competent National Authorities
                                        </md-tooltip>
                                        </span>
                                </th>
                                 <th style="white-space:nowrap;font-size:14px;text-align:center;">
                                    <span style="cursor:pointer;" ng-click="sortTable('MSR')" >MSR
                                        <md-tooltip>
                                            Legislative, administrative or policy measures
                                        </md-tooltip>
                                        </span>
                                </th>
                                 <th style="white-space:nowrap;font-size:14px;text-align:center;">
                                    <span style="cursor:pointer;" ng-click="sortTable('IRCC')" >IRCC
                                        <md-tooltip>
                                            Internationally Recognized Certificate of Compliance
                                        </md-tooltip>
                                        </span>
                                </th>
                                <th style="white-space:nowrap;font-size:14px;text-align:center;">
                                    <span style="cursor:pointer;" ng-click="sortTable('CP')" >CP
                                        <md-tooltip>
                                            Checkpoints
                                        </md-tooltip>
                                        </span>
                                </th>
                                <th style="white-space:nowrap;font-size:14px;text-align:center;">
                                    <span style="cursor:pointer;" ng-click="sortTable('CPC')">CPC
                                        <md-tooltip>
                                            Checkpoint Communiqués
                                        </md-tooltip>
                                        </span>
                                </th>
                            </tr>
                            <tr ng-repeat="country in (countries | filter:countryFilter | filter: searchFilter | orderBy:sortTermFilter:orderList) " ng-animate="{enter: 'animate-enter', leave: 'animate-leave'}">
                               <td class="text-right">{{$index + 1}}</td>
                                <td><a ng-href="#" ng-click="navigateCountry('',country.code,'')" class="country-list-name"
                                    ng-class="{'list-group-item-primary':country.isNPParty,'list-group-item-default':!country.isNPParty }"> {{country.name.en}}</a> &nbsp;
                                </td>
                                <td>
                                    <span ng-show="country.isNPParty" style="font-weight:bold;">Party</span>
                                    <span ng-show="!country.isNPParty" >Non-Party</span>
                                    <span ng-show="country.isNPInbetweenParty" ><br>(entry into force on: {{addDate(country.entryIntoForce)| formatDate}})</span>
                                </td>
                                <td style="text-align:center;"><span class="badge bg-grey4">{{country.FP}}</span></td>
                                <td style="text-align:center;"><span class="badge bg-grey4">{{country.NDB}}</span></td>
                                <td style="text-align:center;"><span class="badge bg-grey4">{{country.CNA}}</span></td>
                                <td style="text-align:center;"><span class="badge bg-grey4">{{country.MSR}}</span></td>
                                <td style="text-align:center;"><span class="badge bg-grey4">{{country.IRCC}}</span></td>
                                <td style="text-align:center;"><span class="badge bg-grey4">{{country.CP}}</span></td>
                                <td style="text-align:center;"><span class="badge bg-grey4">{{country.CPC}}</span></td>
                            </tr>
                        </table>
                        <div class="alert alert-info col-xs-12">

                            <div>
                                <strong>Disclaimer:</strong>
                                The designations employed and the presentation of material on this map do not imply the expression of any opinion whatsoever on the part of the Secretariat of the Convention on Biological Diversity or the United Nations concerning
                                the legal status of any country, territory, city or area or of its authorities, or concerning the delimitation of its frontiers or boundaries.
                            </div>
                            <br>
                            <div>
                            For declarations and other notes, you may visit the <a ng-href="https://treaties.un.org/pages/ViewDetails.aspx?src=TREATY&mtdsg_no=XXVII-8-b&chapter=27&lang=en">
                            United Nation Treaty Collection web site</a>.
                            <div>

                        </div>
                    </div>
                </div>

    </div>
</div>
