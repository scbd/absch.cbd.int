<div   >

    <edit-header></edit-header>


    <div class="innerPageEditForm edit-abs-checkpoints">

        <span block-region activate="isLoading()" ng-if="isLoading()"></span>
        <div class="registerpage-content" >

            <workflow-arrow-buttons on-review-language-change="onReviewLanguageChange(lang)" document="getCleanDocument()" languages="document.header.languages" hide-timer="false"
            tab="tab" validation-report="validationReport" on-post-close="onPostClose()" on-error="onError(error, errorCode)"
            on-post-publish="onPostPublishOrRequest(data)" on-pre-publish="onPrePublish()" on-pre-save-draft="onPreSaveDraft()"
            on-post-save-draft="onPostSaveDraft(data)" on-post-request="onPostPublishOrRequest(data)" on-pre-request="onPreRequest()"
            data-container="{{container}}" is-dialog="{{isDialog}}" document-type="{{type}}">
                <!-- <intro-form></intro-form> --> <!--only use it if default article intro is not required -->
                <edit-form>
                        <form name="editForm" class="editForm mt-2">
                                <div class="editForm" ng-show="tab=='edit'" km-tab="edit">
                                    <legend name="formInfo" style="display:none"></legend>
                                    <section>
                                    <legend name="generalInfo">{{::('editAbsCheckpointT.generalInfo'|$translate)}}</legend>
              
                                    <div class="row">
                                        <div class="col-xs-12" >
                                            <div class="km-control-group" name="header.languages" required caption=" {{::('editAbsCheckpointT.langugaeToPublish'|$translate)}}">
                                                <div class="indent">
                                                    <div km-form-languages multiple required name="header.languages" ng-model="document.header.languages"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
              
                                     <div class="col-xs-12">
                                            <div class="km-control-group" name="government" required caption="{{::('editAbsCheckpointT.country'|$translate)}}">
                                              <div afc-autocomplete required name="government" ng-disabled="userGovernment()" ng-model="document.government" source="options.countries" filter="genericFilter" mapping="genericMapping" selectbox="true" placeholder="{{::('editAbsCheckpointT.selectOption'|$translate)}}"></div>
                                            </div>
                                        </div>
              
              
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-12">
                                                <div class="km-control-group" name="name" required caption="{{::('editAbsCheckpointT.checkpointName'|$translate)}}">
                                                    <div class="help-info">{{::('editAbsCheckpointT.checkpointNameInfo'|$translate)}}</div>
                                                    <div km-textbox-ml ng-model="document.name" rows="1" placeholder="" locales="document.header.languages"></div>
                                                </div>
                                        </div>
                                    </div>
                                    </section>
              
                                    <section>
              
                                    <legend name="responsibilities–title">{{::('editAbsCheckpointT.responsibilities'|$translate)}}</legend>                                  
                                    <!-- <div class="row">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" name="responsibleFunctions" required caption="Responsible functions">
                                                <div km-term-check required ng-model="document.responsibleFunctions" locales="document.header.languages"
                                                     terms="options.responsibleFunctions()"  binding-type="term[]" ng-change="onResponsibleFunctionsChange(document.responsibleFunctions)"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="hasPointToCollect">
                                        <div class="col-xs-12">
                                            <label>Stage at which information is collected or received</label>
                                            <div class="help-info">Article 17, paragraph 1 (a) (i) provides that designated checkpoints would collect or receive relevant information related to prior informed consent, to the source of the genetic resource, to the establishment of mutually agreed terms, and/or to the utilization of genetic resources, as appropriate; subparagraph (iv) provides that checkpoints should have functions relevant to the utilization of genetic resources, or to the collection of relevant information at, inter alia, any stage of research, development, innovation, pre commercialization or commercialization. </div>
                                            <div class="km-control-group chain-stage-value" name="valueChainStage" caption="">
                                                <div km-term-radio ng-model="document.valueChainStage" locales="document.header.languages"
                                                     terms="options.valueChainStage()"  binding-type="term" show-other="true"></div>
                                            </div>
                                        </div>
                                    </div> -->
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" name="responsibilities" caption="{{::('editAbsCheckpointT.responsibilitiesDescription'|$translate)}}">
                                                   <div class="help-info">{{::('editAbsCheckpointT.responsibilitiesDescriptionInfo'|$translate)}}</div>
                                                <div km-rich-textbox name="responsibilities" rows="6" ng-model="document.responsibilities" locales="document.header.languages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-12">
                                                <div class="km-control-group" name="jurisdiction" caption="{{::('editAbsCheckpointT.jurisdiction'|$translate)}}">
                                                    <div class="help-info">{{::('editAbsCheckpointT.jurisdictionInfo'|$translate)}}</div>
                                                     <div afc-autocomplete name="jurisdiction" ng-model="document.jurisdiction" source="options.jurisdictions" filter="genericFilter" mapping="genericMapping" selectbox="true" required></div>
                                                </div>
                                        </div>
                                    </div>
                                    <div class="row" ng-show="isSubNational()">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" required name="jurisdictionName" caption="{{::('editAbsCheckpointT.nameSubJurisdiction'|$translate)}}">
                                                <div km-textbox-ml required name="jurisdictionName" rows="1" ng-model="document.jurisdictionName" locales="document.header.languages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" ng-show="isCommunity()">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" required name="jurisdictionName" caption="{{::('editAbsCheckpointT.communityName'|$translate)}}">
                                                <div km-textbox-ml required name="jurisdictionName" rows="1" ng-model="document.jurisdictionName" locales="document.header.languages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" ng-show="isOthers()">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" required name="jurisdictionName" caption="{{::('editAbsCheckpointT.jurisdictionName'|$translate)}}">
                                                <div km-textbox-ml required name="jurisdictionName" rows="1" ng-model="document.jurisdictionName" locales="document.header.languages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- <div class="row">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" name="inquiryContact" caption="Contact information for inquires related to the information gathered or the functioning of this checkpoint:">
                                                <div document-selector on-build-query="onContactQuery(searchText)"
                                                     ng-model="document.inquiryContact"
                                                     question="inquiryContact" allow-new="true" allow-new-schema="contact">
                                                </div>
                                            </div>
                                        </div>
                                    </div> -->
              
                                    </section>
              
                                    <section>
              
                                    <legend name="nationalAuthorities">{{::('editAbsCheckpointT.nationalAuthorities'|$translate)}}</legend>
                                    <div class="help-info">
                                        {{::('editAbsCheckpointT.nationalAuthoritiesInfoOne'|$translate)}}
                                       <br><br>
                                        {{::('editAbsCheckpointT.nationalAuthoritiesInfoTwo'|$translate)}}
                                      </div>
                                    
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" required name="informAllAuthorities" caption="{{::('editAbsCheckpointT.informAllAuthorities'|$translate)}}">
                                                <div class="km-yes-no" name="informAllAuthorities" ng-model="document.informAllAuthorities"></div>
                                            </div>
                                        </div>
                                    </div>
              
                                   <!--  <div class="row" ng-show="document.informAllAuthorities==false">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" required name="authoritiesToInform" caption="Please select which competent national authority/ies from the list to whom you wish to send a copy of the communiqué">
                                                <div km-reference required name="authoritiesToInform" ng-model="document.authoritiesToInform" loader="loadRecords(identifier, 'authority')">
                                                    <div>
                                                        <div>
                                                            <strong>{{reference.title | lstring}}</strong>
                                                        </div>
                                                        <div>{{reference.summary | lstring}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div> -->
              
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" name="contactsToInform" caption="{{::('editAbsCheckpointT.contactsToInform'|$translate)}}">
                                                <div document-selector on-build-query="onContactQuery(searchText)"
                                                     ng-disabled="!document.government.identifier"
                                                     ng-model="document.contactsToInform"
                                                     question="contactsToInform" allow-new="true" allow-new-schema="contact"></div>
                                            </div>
                                        </div>
                                    </div>
                                    </section>
              
                                    <section>
              
                                    <legend>{{::('editAbsCheckpointT.additionalInformation'|$translate)}}</legend>
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" name="relevantInformation" caption="{{::('editAbsCheckpointT.additionalInformation'|$translate)}}">
                                                <div class="help-info">{{::('editAbsCheckpointT.relevantInformationInfo'|$translate)}}</div>
                                                <div km-rich-textbox name="relevantInformation" rows="6" ng-model="document.relevantInformation" locales="document.header.languages"></div>
                                            </div>
                                        </div>
                                    </div>
              
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" name="relevantDocuments" caption="{{::('editAbsCheckpointT.relevantDocumentsInfo'|$translate)}}">
                                                <div km-link name="relevantDocuments" ng-model="document.relevantDocuments" identifier="document.header.identifier"></div>
                                            </div>
                                        </div>
                                    </div>
                                    </section>
              
                                    <section>
                                    <legend>{{::('editAbsCheckpointT.notes'|$translate)}}</legend>
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" name="notes">
                                                <div class="help-info">{{::('editAbsCheckpointT.notesInfos'|$translate)}}</div>                                                
											    <div km-notes name="notes" ng-model="document.notes"></div>
                                            </div>
                                        </div>
                                    </div>
                                    </section>
                                </div>
              
                            </form>
                </edit-form>
                <review-form>
                    <view-abs-checkpoint ng-model="review.document" locale="review.locale" allow-drafts="true"></view-abs-checkpoint>
                </review-form>
                <!-- <publish-form></publish-form> --> <!-- use when you wan to display more than publish buttons -->
            </workflow-arrow-buttons>

        </div>
      </div>
</div>