<div>

	<div class="alert alert-error" ng-show="hasError()">
		<strong>Error as occured...</strong>
		<div>{{error}}</div>
	</div>

    <div ng-show="isLoading()">
        <i class="fa fa-spinner fa-spin"></i> Loading...
    </div>

    <div ng-show="!isLoading() && status!='hidden'">

        <div class="row">
            <div class="col-xs-12 visible-xs">
                <div>
                    <span km-form-std-buttons document="getCleanDocument()"></span>
                    <span km-form-languages ng-model="document.header.languages"></span>
                </div>
            </div>

            <div class="col-sm-7 col-xs-12" id="helpTip2">
                <ul class="pagination">
                    <li ng-class="{ disabled: tab=='edit'   }"><a href="" ng-click="tab='edit'">&laquo;</a></li>
                    <li ng-class="{ active  : tab=='edit'   }"><a href="" ng-click="tab='edit'" >General</a></li>
                    <li ng-class="{ active  : tab=='review' }"><a href="" ng-click="tab='review'">Review</a></li>
                    <li ng-class="{ disabled: tab=='review' }"><a href="" ng-click="tab='review'">&raquo;</a></li>
                </ul>
            </div>

            <div class="col-sm-5 hidden-xs text-right">
                <div class="pagination">
                    <span km-form-languages ng-model="document.header.languages"></span>
                    <span km-form-std-buttons document="getCleanDocument()"></span>
                </div>
            </div>

        </div>

		<form name="editForm" style="margin-top:10px">

			<div ng-show="tab=='edit'" km-tab="edit">
				<legend>Personal Information</legend>

				<div  class="row">

					<div class="col-lg-2 col-md-4 col-sm-4 col-xs-12">
						<div class="km-control-group" name="prefix" caption="Title">
							<div km-textbox-ml name="prefix" ng-model="document.prefix" locales="document.header.languages"></div>
						</div>
					</div>

					<div class="col-lg-4 col-md-8 col-sm-8 col-xs-12">
						<div class="km-control-group" name="firstName" required caption="First name">
							<input type="text" class="form-control" name="firstName" ng-model="document.firstName" required/>
						</div>
					</div>

					<div class="col-lg-2 col-md-4 col-sm-4 col-xs-12">
						<div class="km-control-group" name="middleName" caption="Middle Name">
							<input type="text" class="form-control" name="middleName" ng-model="document.middleName"/>
						</div>
					</div>

					<div class="col-lg-4 col-md-8 col-sm-8 col-xs-12">
						<div class="km-control-group" name="lastName" required caption="Last name">
							<input type="text" class="form-control" name="lastName" ng-model="document.lastName" required/>
						</div>
					</div>

				</div>

				<div class="row">
					<div class="col-md-12">
						<div class="km-control-group" name="designation" caption="Job Title">
							<div km-textbox-ml name="designation" ng-model="document.designation" locales="document.header.languages"></div>
						</div>
					</div>
				</div>

				<div class="row">

					<div class="col-md-8">
						<div class="km-control-group" name="organization" required caption="Employer / Organization">
							<div class="help-block">Fullname without abbreviation</div>
							<div km-textbox-ml name="organization" ng-model="document.organization" required locales="document.header.languages"></div>
						</div>
					</div>

					<div class="col-md-4">
						<div class="km-control-group" name="organizationAcronym" caption="Acronym">
							<div class="help-block">Abbreviation of the long name of an organization</div>
							<div km-textbox-ml name="organizationAcronym" ng-model="document.organizationAcronym" placeholder="example: SCBD" locales="document.header.languages"></div>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-md-12">
						<div class="km-control-group" name="department" caption="Department / Division / Unit">
							<div km-textbox-ml name="department" ng-model="document.department" locales="document.header.languages"></div>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-md-12">
						<div class="km-control-group" name="organizationType" caption="Type of organization">
							<div km-select name="organizationType" ng-model="document.organizationType" items="options.organizationTypes()"></div>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-md-12">
						<div class="km-control-group" name="address" caption="Address">
							<div km-textbox-ml ng-model="document.address" rows="2" placeholder="example: 413 St-Jacques Ouest, Suite 800" locales="document.header.languages"></div>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-md-6">
						<div class="km-control-group" name="city" required caption="City">
							<div km-textbox-ml name="city" ng-model="document.city" required locales="document.header.languages" placeholder="example: Montreal"></div>
						</div>
					</div>

					<div class="col-md-6">
						<div class="km-control-group" name="state" caption="State or Province">
							<div km-textbox-ml name="state" ng-model="document.state" locales="document.header.languages" placeholder="example: Quebec"></div>
						</div>
					</div>
				</div>

				<div class="row">

					<div class="col-md-6">
						<div class="km-control-group" name="postalCode" caption="Postal Code or Zip">
							<div km-textbox-ml name="postalCode" ng-model="document.postalCode" locales="document.header.languages" placeholder="example: Quebec"></div>
						</div>
					</div>

					<div class="col-md-6">
						<div class="km-control-group" name="country" required caption="Country address">
							<div km-select name="country" ng-model="document.country" items="options.countries()" required></div>
						</div>
					</div>
				</div>

				<legend>Contact Information</legend>

				<div class="row">
					<div class="col-md-6">
						<div class="km-control-group" name="phones" required caption="Phone numbers">
							<div class="help-block">Please use the following format: +[country code] [city code] [telephone number] [extension, if necessary].</div>
							<div km-inputtext-list name="phones" ng-model="document.phones" required placeholder="example: +1 514.288.2220"></div>
						</div>
					</div>

					<div class="col-md-6">
						<div class="km-control-group" name="faxes" caption="Fax Numbers">
							<div class="help-block">Please use the following format: +[country code] [city code] [telephone number] [extension, if necessary].</div>
							<div km-inputtext-list name="faxes" ng-model="document.faxes" placeholder="example: +1 514.288.6588"></div>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-md-6">
						<div class="km-control-group" name="emails" caption="Emails">
							<div km-inputtext-list name="emails" type="email" ng-model="document.emails"  placeholder="example: secretariat@cbd.int"></div>
						</div>
					</div>

				</div>

				<legend>Additional Information</legend>

				<div class="row">
					<div class="col-md-12">
						<div class="km-control-group" name="relevantInformation" caption="Additional Information">
							<span class="help-block">
								Please use this field to provide any other relevant information that may not have been addressed elsewhere in the record.
							</span>
							<div km-textbox-ml name="relevantInformation" rows="6" ng-model="document.relevantInformation"  locales="document.header.languages"></div>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-md-12">
						<div class="km-control-group" name="relevantDocuments" caption="Other relevant website address or attached documents">
							<div km-link name="relevantDocuments" ng-model="document.relevantDocuments" identifier="document.header.identifier"></div>
						</div>
					</div>
				</div>


				<div class="row">
					<div class="col-md-12">
						<div class="km-control-group" name="notes">
							<legend>Notes</legend>
							<span class="help-block">
								The field “Notes” is for personal reference and can be seen only when the record is being edited.
							</span>
							<textarea class="form-control" rows="4" name="notes" ng-model="document.notes" ></textarea>
						</div>
					</div>
				</div>

			</div>
		</form>

		<div ng-show="tab=='review'" km-tab="review">

            <div km-document-validation ng-model="validationReport"></div>

            <div class="btn-group" ng-show="reviewDocument.header.languages.length>1">
                <input type="button" class="btn" ng-class="{'active' : review.locale==locale, 'btn-info' : review.locale==locale}" ng-repeat="locale in document.header.languages" ng-click="$parent.review.locale = locale" value="{{locale | uppercase}}" />
            </div>

            <div view-contact ng-model="reviewDocument" locale="review.locale" allow-drafts="true"></div>

		</div>

        <div class="row">

            <div class="col-sm-7 col-xs-12">
                <ul class="pagination">
                    <li ng-class="{ disabled: tab=='edit'   }"><a href="" ng-click="tab='edit'">&laquo;</a></li>
                    <li ng-class="{ active  : tab=='edit'   }"><a href="" ng-click="tab='edit'" >General</a></li>
                    <li ng-class="{ active  : tab=='review' }"><a href="" ng-click="tab='review'">Review</a></li>
                    <li ng-class="{ disabled: tab=='review' }"><a href="" ng-click="tab='review'">&raquo;</a></li>
                </ul>
            </div>

            <div class="col-sm-5 hidden-xs text-right">
                <div class="pagination">
                    <span km-form-std-buttons document="getCleanDocument()"></span>
                </div>
            </div>

            <div class="col-xs-12 visible-xs">
                <div>
                    <span km-form-std-buttons document="getCleanDocument()"></span>
                </div>
            </div>

        </div>
	</div>
</div>
