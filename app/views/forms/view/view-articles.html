<div id="Announcements" ng-controller="viewArticles" >
<style>
.responsive {
    width: 100%;
    height: auto;
}
#Announcements img{
    width: 100%;
    height: auto;
}
.news-image {
    width: 100%;
    height: 120px;
    background-image: url('img_flowers.jpg');
    background-size: cover;
}
.sized{height: 120px;}
.small-sized{height: 10px;}
.news-date{float:right; vertical-align: text-bottom;padding:3px; font-size: 10px; text-transform: uppercase; }
.noimage{display: table-cell; vertical-align: middle; font-size:24px;padding:10px; top:-20px;position: relative; }
.noimagetable{display: table; height: 200px; overflow: hidden; width: 100%;}
</style>

    <h3 style="border-bottom:1px solid #ddd;"> <a href="/articles/" class="color-grey"> Announcements </a>
        <a  ng-if="article" class="pull-right" href="/articles/"> <i class="fa fa-arrow-circle-left"></i> view all </a>
    </h3>
        
    <div class="container" ng-if="article">
        <div class="row well bg-white">
            <div  class="col-xs-12 col-sm-6 col-md-3 hidden-xs" ng-if="article.coverImage.url" >
                <img class="thumbnail" style="max-width:300px;width:100%; width: 100%; margin-right:20px;" ng-if="article.coverImage.url" src="{{getSizedImage(article.coverImage.url, '400x400')}}">
            </div>
            <div class="col-xs-12" ng-class="{'col-sm-6 col-md-9' : article.coverImage.url}">
                    <span class="news-date bg-white pull-right bold"  >{{article.meta.createdOn | formatDateWithUtc }}</span>

                    <div>             
                        <h3 style="font-size:160%;margin-bottom:30px;">{{article.title  | lstring:locale}}</h3>
                    </div>
            </div>

            <div class="col-md-12" style="padding-top:10px;" >
                <p ng-bind-html="article.content  | lstring:locale | toTrusted"></p>
            </div>
        </div>
    </div>  
       
        <div class="row" style="margin:10px 5px 10px 5px;" ng-if="articles">
            <div ng-repeat="article in articles | orderBy:'meta.createdOn':true" style="cursor:pointer"  >
                        <div class="col-sm-6 col-md-4 col-lg-3 col-xl-2" ng-click="loadArticle(article._id)">
                        
                                <div  style="background-color:#f9f9f9;border-top:1px solid #ddd; border-bottom:1px solid #ddd;height:200px;margin-bottom:10px;">
                                        <div  class="news-image" style="background-image: url({{::getSizedImage(article.coverImage.url, '400x400')}});" ng-class="{'sized':article.coverImage.url,'small-sized':!article.coverImage.url}"> 
                                                <span class="bg-red color-white news-date">{{article.meta.createdOn | formatDateWithUtc}}</span>
                                        </div>
                                        <div style="margin:5px;" ng-class="{'noimagetable':!article.coverImage.url}" >
                                            
                                            <h4  ng-class="{'noimage':!article.coverImage.url}">
                                                <span style="display:block;font-size: 10px; text-transform: uppercase;" class="color-blue bold">{{article.summary | lstring:locale}}</span>
                                                {{article.title | lstring:locale}}</h4>
                                        </div>
                                    </div>
                    </div>  
            </div>
        </div>

      
  
</div>
