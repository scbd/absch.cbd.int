<div id="Record" class="record panel panel-default">
    <div class="record-body panel-body bg-white">
        <document-date></document-date>

		<legend>{{::('capacityBuildingResource.generalInformation'|$translate)}}</legend>

		<h2>{{document.title | lstring:locale}}</h2>

		<div ng-show="document.resourceTypes">
			<label>{{::('capacityBuildingResource.type'|$translate)}}</label>
			<ul class="km-value">
				<li ng-repeat="resourceType in document.resourceTypes">{{resourceType | term:locale}}</li>
			</ul>
		</div>

		<div ng-show="document.fileFormat">
			<label>{{::('capacityBuildingResource.format'|$translate)}}</label>
			<div class="km-value">{{document.fileFormat | term:locale}} </div>
		</div>

		<div ng-show="document.formatDetails">
			<label>{{::('capacityBuildingResource.formatDetails'|$translate)}}</label>
			<div class="km-value km-pre">{{document.formatDetails | lstring:locale}}</div>
		</div>

		<div ng-show="document.purpose">
			<label>{{::('capacityBuildingResource.purpose'|$translate)}}</label>
			<ul class="km-value">
				<li ng-repeat="term in document.purpose">{{term | term:locale}}</li>
			</ul>
		</div>

		<div ng-show="document.targetGroups">
			<label>{{::('capacityBuildingResource.mainTarget'|$translate)}}</label>
			<ul class="km-value">
				<li ng-repeat="term in document.targetGroups">{{term | term:locale}}</li>
			</ul>
		</div>

		<div ng-show="document.expertiseLevel">
			<label>{{::('capacityBuildingResource.level'|$translate)}}</label>
			<div class="km-value">{{document.expertiseLevel | term:locale}} </div>
		</div>

		<div ng-show="document.authors">
			<label>{{::('capacityBuildingResource.authors'|$translate)}}</label>
			<div class="km-value km-pre">{{document.authors | lstring:locale}}</div>
		</div>

		<div ng-show="document.organizations">
			<label>{{::('capacityBuildingResource.organizations'|$translate)}}</label>
			<div class="km-value" ng-repeat="org in authoringOrganizations">
				<strong>{{org.name | lstring:locale}} <i ng-show="org.acronym">({{org.acronym | lstring:locale}})</i></strong>
				<div>{{org.organizationType | term:locale}}</div>
			</div>
		</div>

		<div ng-show="document.publicationYear">
			<label>{{::('capacityBuildingResource.publicationYear'|$translate)}}</label>
			<div class="km-value">{{document.publicationYear}}</div>
		</div>

		<div ng-show="document.rights">
			<label>{{::('capacityBuildingResource.rights'|$translate)}}</label>
			<div class="km-value km-pre">{{document.rights | lstring:locale}}</div>
		</div>

		<div ng-show="document.source">
			<label>{{::('capacityBuildingResource.source'|$translate)}}</label>
			<div class="km-value km-pre">{{document.source | lstring:locale}}</div>
		</div>

		<legend ng-show="document.resourceLinks || document.covers">{{::('capacityBuildingResource.access'|$translate)}}</legend>

		<div ng-show="document.resourceLinks">
			<label>{{::('capacityBuildingResource.link'|$translate)}}</label>
			<div class="km-value" ng-repeat="item in document.resourceLinks">
				<a translation-url target="{{target}}" ng-href="{{item.url}}">{{item.name||item.url}}</a>
				<i ng-show="item.name && item.url.indexOf('/api/v2013/documents/')<0">({{item.url}})</i>
			</div>
		</div>

		<div ng-show="document.covers">
			<label>{{::('capacityBuildingResource.coverImages'|$translate)}}</label>
			<div class="km-value">
				<a translation-url ng-repeat="link in document.covers" ng-href="{{link.url}}" target="{{target}}">
					<img class="img-polaroid" ng-src="{{link.url}}" alt="{{link.name}}" style="max-height: 150px; max-width: 150px" />
				</a>
			</div>
		</div>

		<legend ng-show="document.summary || document.regions">{{::('capacityBuildingResource.information'|$translate)}}</legend>

		<div ng-show="document.summary">
			<label>{{::('capacityBuildingResource.format'|$translate)}}Summary</label>
			<div class="km-value km-pre">{{document.summary | lstring:locale}}</div>
		</div>

		<div ng-show="document.regions">
			<label>{{::('capacityBuildingResource.country'|$translate)}}</label>
			<ul class="km-value">
				<li ng-repeat="term in document.regions | orderBy:name">{{term | term:locale}}</li>
			</ul>
		</div>


		<div ng-show="document.cbdSubjects || document.gbfTargets || document.aichiTargets">

			<legend>{{::('capacityBuildingResource.subjectAreas'|$translate)}}</legend>

			<div ng-show="document.cbdSubjects">
				<label>{{::('capacityBuildingResource.subject'|$translate)}}</label>
				<ul class="km-value">
					<li ng-repeat="term in document.cbdSubjects">{{term | term:locale}}</li>
				</ul>
			</div>

			<div ng-show="document.gbfTargets">
				<div ng-show="document.gbfTargets">
					<label>{{::('capacityBuildingResource.gbf'|$translate)}}</label>
					<ul class="km-value">
						<li ng-repeat="term in document.gbfTargets">{{term | term:locale}}</li>
					</ul>
				</div>
			</div>
			<!--  Should it be removed as we already have gbfTargets above  ? -->
			<div ng-show="document.aichiTargets">
				<div ng-show="document.aichiTargets">
					<label>{{::('capacityBuildingResource.aichiTargets'|$translate)}}</label>
					<ul class="km-value">
						<li ng-repeat="term in document.aichiTargets">{{term | term:locale}}</li>
					</ul>
				</div>
			</div>
		</div>

		<div ng-show="document.absKeyAreas">
			<legend>{{::('capacityBuildingResource.absch'|$translate)}}</legend>

			<label>{{::('capacityBuildingResource.keyAreas'|$translate)}}</label>
			<ul class="km-value">
				<li ng-repeat="term in document.absKeyAreas">{{term | term:locale}}</li>
			</ul>

		</div>

		<div ng-show="document.bchSubjects">

			<legend>{{::('capacityBuildingResource.cartagenaProtocol '|$translate)}}</legend>

			<div ng-show="document.bchSubjects">
				<label>{{::('capacityBuildingResource.thematicAreas'|$translate)}}</label>
				<ul class="km-value">
					<li ng-repeat="term in document.bchSubjects">{{term | term:locale}}</li>
				</ul>
			</div>
		</div>

		<div ng-show="document.relevantInformation||document.relevantDocuments">
			<legend>{{::('capacityBuildingResource.additionalInformation'|$translate)}}</legend>

			<div ng-show="document.relevantInformation">
				<div class="km-value km-pre" ng-bind-html="document.relevantInformation | lstring:locale | markdown"></div>
			</div>

			<div ng-show="document.relevantDocuments">
				<label>{{::('capacityBuildingResource.relevantWebsite'|$translate)}}</label>
				<div class="km-value" ng-repeat="item in document.relevantDocuments">
					<a translation-url target="{{target}}" ng-href="{{item.url}}">{{item.name||item.url}}</a>
					<i ng-show="item.name && item.url.indexOf('/api/v2013/documents/')<0">({{item.url}})</i>
				</div>
			</div>
		</div>
	</div>
    <view-referenced-records ng-model="document.header.identifier"></view-referenced-records>
    <div document-metadata class="panel-footer"></div>
</div>
