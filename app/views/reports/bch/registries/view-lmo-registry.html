<div>
	<div class="container-fluid">
		<div class="panel panel-default registry-details overflow-hidden">
			<div class="panel-heading">
				<h2>{{::('viewLmoRegistryT.lmoRegistry'|$translate)}}</h2>
			</div>
			<div class="panel-body">
				<div class="row bg-white">
					<div class="col-md-2"> 
						<div ng-class="{'btn-group':deviceSize=='xs'}" class="w-100 mx-2">
							<button ng-if="deviceSize=='xs'" type="button" class="w-100 btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<i class="fa fa-bars"></i> {{::('viewLmoRegistryT.registries'|$translate)}} <span class="caret"></span>
							</button>
							<ul ng-class="{'dropdown-menu':deviceSize=='xs','list-group':deviceSize!='xs'}">
								<li class="list-group-item  bg-darkgrey" ng-if="deviceSize!='xs'"><b>{{::('viewLmoRegistryT.registries'|$translate)}}</b></li>
								<li class="list-group-item active"><a rel="noopener" translation-url href="/registries/living-modified-organisms">{{::('viewLmoRegistryT.lmoTitle'|$translate)}}</a></li>
								<li class="list-group-item bg-litegrey"><a rel="noopener" translation-url href="/registries/organisms">{{::('viewLmoRegistryT.organismRegistry'|$translate)}}</a></li>
								<li class="list-group-item bg-litegrey"><a rel="noopener" translation-url href="/registries/genetic-elements">{{::('viewLmoRegistryT.geneticElementRegistry'|$translate)}}</a></li>
							</ul>
						</div>
					</div>
					<div class="col-12 col-md-10 ps-3">
						<p class="pt-2 mx-2">
							{{::('viewLmoRegistryT.lmoInfo'|$translate)}} 
							 <a rel="noopener" translation-url href="/kb/tags/lmo-gene-orga/LMO-Unique-Identifiers-UIDs-/619c55400c1ff000011c1c28">{{::('viewLmoRegistryT.uniqueCode'|$translate)}}</a> 
							 {{::('viewLmoRegistryT.lmoLink'|$translate)}}
						</p>
						<p class="fst-italic py-2 color-black fw-bold">
							<span ng-bind-html="::('viewLmoRegistryT.clickHere'|$translate)"></span>
						</p>
						<h1 class="text-center padding-top-10" ng-if="isLoading"><i class="fa fa-cog fa-spin"></i> {{::('viewLmoRegistryT.loading'|$translate)}}</h1>
						<div ng-if="isError && !isLoading" class="alert alert-danger"><h3> {{::('viewLmoRegistryT.error'|$translate)}}</h3></div>
						<div ng-if="!isLoading && !isError" class="mx-2">						
						<div class="row">
							<div class="col-md-12">
								<strong>{{::('viewLmoRegistryT.totalRecords'|$translate)}}  <span ng-bind="::numFound" class="text-bold"></span></strong>							
								<button type="button" class="btn btn-sm btn-default float-end me-1 mb-1" ng-click="export()" ng-disabled="!lmoRecords.length || readyForExport">
									<i class="fa fa-table" ng-class="{'fa-spin fa-spinner':readyForExport}"></i> {{::('viewLmoRegistryT.export'|$translate)}}
								</button>
							</div>
						</div>
						<div>
							<table class="table" id="lmoExport">
								<thead>
									<tr>
										<th style="width: 10rem;">{{::('viewLmoRegistryT.recordID'|$translate)}}</th>
										<th>{{::('viewLmoRegistryT.name'|$translate)}}</th>
										<th class="d-none d-md-table-cell">{{::('viewLmoRegistryT.identity'|$translate)}}</th>
										<th class="d-none d-md-table-cell">{{::('viewLmoRegistryT.organism'|$translate)}}</th>
										<th class="d-none d-md-table-cell">{{::('viewLmoRegistryT.description'|$translate)}}</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="row in ::lmoRecords">
										<td class="tableexport-string">
											<a rel="noopener" translation-url target="_blank" ng-if="::row.url_ss.length" rel="noopener" ng-href="{{::row.url_ss[0]}}">
												<span class="text-uppercase" ng-bind="::row.recordId"></span>
											</a>
										</td>
										<td class="tableexport-string"><span ng-bind="::row.uniqueIdentification_s"></span></td>
										<td class="tableexport-string d-none d-md-table-cell">
											<span class="fw-bolder" ng-bind="::row.identity"></span><br>
											<span ng-bind="::row.transformationEvent"></span>
										</td>
										<td class="tableexport-string d-none d-md-table-cell">
											<span ng-bind="::row.lmoScientificName.join(', ')"></span><br/>
											<span ng-bind="::row.lmoCommonNames.join(', ')"></span>
										</td>
										<td class="tableexport-string truncate-description d-none d-md-table-cell">
											<span ng-bind="::row.geneTraits.join(', ')"></span>											
										</td>										
									</tr>
								</tbody>
							</table>
						</div>
					</div>	
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
