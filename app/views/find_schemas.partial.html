
<div class="well" style="margin: 5px -15px 0 -15px;padding:0 20px;">
    <div class="row">
        <div class="col-xs-2"> 
            <a ng-click="showSelect=!showSelect" ng-href="#"  class="filter-title" style="text-decoration:none;color:#111;">
                <i ng-class="{'fa fa-caret-down':!showSelect, 'fa fa-caret-up':showSelect}" ></i> &nbsp; {{title}}
            </a>
        </div>
    </div>   
<style type="text/css">
    .filter-selected .section{
        padding-top: 10px;
    }
</style>
    <div class="row" ng-show="expandSearch > 0" style="margin-top:10px;">
        <div class="col-xs-12"> 
            <div class="list-group-item-expand">
                <div style="background-color:white;margin-bottom:10px;"> 
                     <div class="filter-selected" class="section">                        
                        <div ng-show="focalpoint.selected">
                            <i class="fa fa-times-circle" ng-click="onclick('focalpoint', $event)"></i>  National Focal Points ({{focalpoint.count}})
                        </div>

                        <div ng-show="authority.selected" class="section">
                            <i class="fa fa-times-circle" ng-click="onclick('authority', $event)"></i>  Competent National Authorities ({{authority.count}}) 
                             <span class="divider">&nbsp; |&nbsp; </span>
                            <span km-toggle  placeholder="Responsible for all"  ng-model="cnaResponsibleForAll" ></span> 
                             <span class="divider">&nbsp; |&nbsp; </span>
                            <span km-select multiple ng-model="cnaJurisdiction" binding-type="string" placeholder="Jurisdictions" items="options.absJurisdictions()"></span>     
                             <span class="divider">&nbsp; |&nbsp; </span>                                           
                            <span km-select multiple ng-model="cnaGeneticResourceTypes" binding-type="string" placeholder="Genetic Resource Types" items="options.absGeneticResourceTypes()"></span>
                        </div>

                        <div ng-show="measure.selected" class="section">
                            <i class="fa fa-times-circle" ng-click="onclick('measure', $event)"></i>  Legislative, administrative or policy measures ({{measure.count}}) 
                            <span class="divider">&nbsp; |&nbsp; </span>
                            <span km-select multiple ng-model="msrJurisdiction" binding-type="string" placeholder="Jurisdictions" items="options.jurisdiction()"></span><span class="divider">&nbsp; |&nbsp; </span>
                            <span km-select multiple ng-model="msrStatus" binding-type="string" placeholder="Status" items="options.status()"></span>
                            <span class="divider">&nbsp; |&nbsp; </span> 
                            <span km-select multiple ng-model="msrType" binding-type="string" placeholder="Types" items="options.typeOfDocuments()"></span>
                            
                            <a ng-click="showdate=!showdate" class="filter-title" >&nbsp; Dates
                                <i ng-class="{'fa fa-caret-down':!showdate, 'fa fa-caret-up':showdate}" ></i>
                            </a>
                            <div class="row" ng-show="showdate">
                                <div class="col-lg-2"> 
                                    <span search-filter-dates title='Date of Adoption' query='msrAdoptionDate' field="adoption_s"></span>  
                                </div>
                                <!-- <div class="col-lg-1"> <span class="divider">&nbsp; |&nbsp; </span></div> -->
                                <div class="col-lg-2">                                               
                                        <span search-filter-dates title='Date of Retirement' query='msrRetirementDate' field="retired_s"></span>
                                </div>
                                <!-- <div class="col-lg-1"> <span class="divider">&nbsp; |&nbsp; </span></div> -->
                                <div class="col-lg-2">
                                    <span search-filter-dates title='Entry into Force' query='msrEntryinForceDate' field="entryIntoForce_s"></span>                                            
                                </div>
                                <!-- <div class="col-lg-1"> <span class="divider">&nbsp; |&nbsp; </span></div> -->
                                <div class="col-lg-2">
                                  <span search-filter-dates title='Date of application' query='mssApplicationDate' field="limitedApplication_s"></span>
                                </div>
                            </div>
                        </div>

                        <div ng-show="absPermit.selected" class="section">
                             <i class="fa fa-times-circle" ng-click="onclick('absPermit', $event)"></i>  Permits and their equivalent ({{absPermit.count}})
                                <div km-select multiple required name="permitusage" ng-model="permitusage" items="options.usage()" placeholder="Usage"></div> | 
                                <div km-select multiple required name="permitkeywords" ng-model="permitkeywords" items="options.keywords()" placeholder="Keywords"></div> | 
                                 <a ng-click="showpermitdate=!showpermitdate" class="filter-title" >&nbsp; Dates
                                    <i ng-class="{'fa fa-caret-down':!showpermitdate, 'fa fa-caret-up':showpermitdate}" ></i>
                                </a>
                                <div class="row" ng-show="showpermitdate">
                                    <div class="col-lg-3"> 
                                        <span search-filter-dates title='Date of issuance of the permit' query='permitIssuanceDate'></span>
                                    </div>
                                    <div class="col-lg-3">    
                                         <span search-filter-dates title='Date of expiry of the permit' query='permitExpiryDate'></span>
                                    </div>                                
                                </div>
                        </div>

                         <div ng-show="absCheckpointCommunique.selected" class="section">
                            <i class="fa fa-times-circle" ng-click="onclick('absCheckpointCommunique', $event)"></i>  Checkpoint Communiqués ({{absCheckpointCommunique.count}})
                             <span class="divider">&nbsp; |&nbsp; </span>
                                <div km-select multiple required name="cpcoriginCountries" binding-type="string"  ng-model="cpcoriginCountries" items="options.countries()" placeholder="Origin Countries"></div>                               
                        </div>
                       
                         <div ng-show="absCheckpoint.selected" class="section">
                            <i class="fa fa-times-circle" ng-click="onclick('absCheckpoint', $event)"></i> Checkpoints ({{absCheckpoint.count}})
                                <span class="divider">&nbsp; |&nbsp; </span>
                                <span km-toggle  placeholder="Inform all authorities"  ng-model="cpInformAllAuthorities" ></span> 
                                <span class="divider">&nbsp; |&nbsp; </span>
                                <span km-select multiple ng-model="cpJurisdiction" binding-type="string" placeholder="Jurisdictions" items="options.absJurisdictions()"></span>
                        </div>
                        <div ng-show="resource.selected" class="section">
                            <i class="fa fa-times-circle" ng-click="onclick('resource', $event)"></i> Virtual Library Records ({{resource.count}})
                                <span class="divider">&nbsp; |&nbsp; </span>
                                <input type="number" required name="vlrpublicationYear" ng-model="vlrpublicationYear" placeholder="Publication year"/>
                                <span class="divider">&nbsp; |&nbsp; </span>
                                <div km-select multiple name="vlrresourceTypes" binding-type="string" ng-model="vlrresourceTypes" items="options.resourceTypes()" placeholder="Type of resource"></div>
                                 <!-- <span km-select multiple ng-model="vlrRegions" binding-type="string" placeholder="Select a country(ies) and/or region(s)..." items="options.regions()"></span> -->
                                <span class="divider">&nbsp; |&nbsp; </span>                              
                                <span km-select multiple ng-model="vlrRegions" binding-type="string" placeholder="Select a country(ies) and/or region(s)..." items="options.regions()"></span>
                                <span class="divider">&nbsp; |&nbsp; </span>
                               
                               <!--  <span >
                                    <a ng-click="vlrOptions=!vlrOptions" class="filter-title" >THEMATIC AREAS(S)
                                        <i ng-class="{'fa fa-caret-down':!vlrOptions, 'fa fa-caret-up':vlrOptions}" ></i>
                                    </a>
                                    <div style="background-color:white;height:200px;overflow:scroll" ng-show="vlrOptions" km-term-check name="vlrabsSubjects" ng-model="vlrabsSubjects" terms="options.absSubjects()" binding-type="term[]"></div>
                                </span>      -->
                                                        
                        </div>                      
                    </div>
             </div>
            </div>
        </div>
    </div>
    <div class="row" style="padding:20px;" id="schemaPartial" ng-show="showSelect">
    <!--Save Dialog -->
    <div class="col-xs-12 " >
        <div class="filter-options">          
            <div>
                <!-- <div class="pull-right" >
                     <a ng-click="showSelect=!showSelect" style="text-decoration:none;" ><i class="glyphicon glyphicon-remove-circle"></i> Close</a>
                </div> -->
                    <div class="national-records">
                        <h4>National Records</h4>
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" ng-model="focalpoint.selected" bind-indeterminate="focalpoint.indeterminate" ng-change="refresh(focalpoint.selected)">
                                National Focal Points ({{focalpoint.count}})
                            </label>
                        </div>
                        <div class="checkbox">
                                <label>
                                    <input type="checkbox" ng-model="authority.selected" bind-indeterminate="authority.indeterminate" ng-change="refresh(authority.selected)">
                                    Competent National Authorities ({{authority.count}})
                                 </label>
                        </div>
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" ng-model="database.selected" bind-indeterminate="database.indeterminate" ng-change="refresh(database.selected)">
                                National Websites and Databases ({{database.count}}) 
                             </label>
                        </div>
                        <div class="checkbox"><label>
                            <input type="checkbox" ng-model="measure.selected" bind-indeterminate="measure.indeterminate" ng-change="refresh(measure.selected)">
                            Legislative, administrative or policy measures ({{measure.count}})
                        </label></div>
                        <div class="checkbox"><label>
                            <input type="checkbox" ng-model="absPermit.selected" bind-indeterminate="absPermit.indeterminate" ng-change="refresh(absPermit.selected)">
                            Permits and their equivalent ({{absPermit.count}}) 
                             </label>
                             <div ng-show="permitOptions">
                                <div class="well" >
                                      <div km-reference multiple="false" binding="permitAuthority" ng-model="permitAuthority" loader="loadRecords('authority')">
                                        <div>
                                            <div><strong>{{reference.title | lstring}}</strong></div>
                                            <div>{{reference.summary | lstring}}</div>
                                        </div>
                                     </div>                                    
                                </div>
                            </div>
                        </div>
                        <div class="checkbox"><label>
                            <input type="checkbox" ng-model="absCheckpoint.selected" bind-indeterminate="absCheckpoint.indeterminate" ng-change="refresh(absCheckpoint.selected)">
                            Checkpoints ({{absCheckpoint.count}})
                             </label>
                            <!--  <div ng-show="absCheckpointOptions">
                                <div class="well" >                                                                 
                                    <div km-select multiple required name="cpjurisdictions" ng-model="cpjurisdictions" items="options.cpjurisdictions()" placeholder="Jurisdiction"></div>
                                    Inform All Authorities <span km-yes-no  ng-model="cpInformAllAuthorities" ></span>          
                                </div>
                            </div> -->
                        </div>

                        <div class="checkbox"><label>
                            <input type="checkbox" ng-model="absCheckpointCommunique.selected" bind-indeterminate="absCheckpointCommunique.indeterminate" ng-change="refresh(absCheckpointCommunique.selected)">
                            Checkpoint Communiqués ({{absCheckpointCommunique.count}})
                             </label>
                            <!--  <div ng-show="absCheckpointCommuniqueOptions">
                                <div class="well" >                                                                 
                                    <div km-select multiple required name="cpcoriginCountries" ng-model="cpcoriginCountries" items="options.countries()" placeholder="Origin Countries"></div>                                             
                                </div>
                            </div> -->
                        </div>

                    </div>
                    <div class="reference-records">
                        <h4>Reference Records</h4>
                        <div class="checkbox"><label>
                            <input type="checkbox" ng-model="resource.selected" bind-indeterminate="resource.indeterminate" ng-change="refresh(resource.selected)">
                            Virtual Library Records ({{resource.count}})
                             </label>
                        </div>

                        
                      <!--   <div class="checkbox"><label>
                            <input type="checkbox" ng-model="organization.selected" bind-indeterminate="organization.indeterminate" ng-change="refresh()">
                            ABS Related Organizations ({{organization.count}})
                        </label></div> -->
                        <div class="checkbox"><label>
                            <input type="checkbox" ng-model="meeting.selected" bind-indeterminate="meeting.indeterminate" ng-change="refresh()">
                            Meetings &amp; Meeting Outcomes ({{meeting.count}})
                        </label></div>
                        <div class="checkbox"><label>
                            <input type="checkbox" ng-model="notification.selected" bind-indeterminate="notification.indeterminate" ng-change="refresh()">
                            Notifications ({{notification.count}})
                        </label></div>
                        <div class="checkbox"><label>
                            <input type="checkbox" ng-model="pressRelease.selected" bind-indeterminate="pressRelease.indeterminate" ng-change="refresh()">
                            Press Releases ({{pressRelease.count}})
                        </label></div>
                        <div class="checkbox"><label>
                            <input type="checkbox" ng-model="statement.selected" bind-indeterminate="statement.indeterminate" ng-change="refresh()">
                            Statements ({{statement.count}})
                        </label></div>
                    </div>
            </div>              
        </div>
    </div>
    </div><!--  end row -->

    <style>
        .options .checkbox {
            min-height: 0;
        }

        .truncate {
            display:block;
            width:150px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            margin: 2px 4px;
            font-size: 10px;
            font-weight: normal;
            color: #000;
        }
    </style>

</div>
