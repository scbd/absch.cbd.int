<div>

<div class="innerPageEditForm"><span block-region activate="isLoading()" ng-if="isLoading()"></span><div class="registerpage-content">

			<workflow-arrow-buttons on-review-language-change="onReviewLanguageChange(lang)" document="getCleanDocument()" languages="document.header.languages" hide-timer="false" tab="tab"
			 validation-report="validationReport" on-post-close="onPostClose()" on-error="onError(error, errorCode)"
			 on-post-publish="onPostPublishOrRequest(data)" on-pre-publish="onPrePublish()" on-pre-save-draft="onPreSaveDraft()"
			 on-post-save-draft="onPostSaveDraft(data)" on-post-request="onPostPublishOrRequest(data)" on-pre-request="onPreRequest()"
			 data-container="{{container}}" is-dialog="{{isDialog}}" document-type="{{type}}">
				<edit-form>
					<form class="editForm mt-2" name="editForm">
						<div>

							<section>
								<div class="no-shadow bg-white">
									<legend>Общая информация</legend>
									<div class="row">
										<div class="col-xs-12">
											<div class="km-control-group" name="header.languages" required caption="Выберите язык(и) для представления этой записи:">
												<div class="indent">
													<div km-form-languages multiple required name="header.languages" ng-model="document.header.languages"></div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</section>

							<section>
								<div class="no-shadow bg-white">
									<legend>Идентификационные данные живого измененного организма (ЖИО)</legend>
									<div class="row">
										<div class="col-sm-12">
											<div class="km-control-group"  name="identity" caption="Название ЖИО">
												<div class="help-block">Название, обычно используемое для идентификации ЖИО, в частности коммерческое название (например, соя под гербицид «Раундап», картофель серии NewLeaf, и т. д.).</div>
												<div km-textbox-ml name="identity"  ng-model="document.identity" locales="document.header.languages"></div>
											</div>
										</div>
										<div class="col-sm-12">
											<div class="km-control-group" required name="transformationEvent" caption="Событие трансформации">
												<div class="help-block">Название события трансформации (например, MON810)</div>
												<input type="text" class="form-control" name="transformationEvent" required ng-model="document.transformationEvent"/>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" name="hasUniqueIdentification" required caption="Имеется ли у данного ЖИО уникальный идентификатор?">
												<div class="help-block">В настоящее время в МПБ используется система уникальных идентификаторов, изложенная в Руководящих указаниях ОЭСР по определению уникальных идентификаторов для трансгенных растений (например, MON-ØØ81Ø-6). С дополнительной информацией можно ознакомиться по адресу: <a rel="noopener" href="/kb/tags/lmo-gene-orga/What-are-Unique-Identifiers-UIDs-/5ff77cb5261fe900012a0fef">https://bch.cbddev.xyz/en/kb/tags/lmo-gene-orga/What-are-Unique-Identifiers-UIDs-/5ff77cb5261fe900012a0fef</a>.</div>
												<div km-yes-no required ng-model="document.hasUniqueIdentification" locales="document.header.languages"></div>
											</div>
										</div>
										<div class="col-sm-12" ng-if="document.hasUniqueIdentification">
											<div class="km-control-group" required name="uniqueIdentification" caption="Уникальный идентификатор">
												<input type="text" class="form-control" name="uniqueIdentification" required ng-model="document.uniqueIdentification"
													ng-change="lookupDetections()"/>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" required name="developers" caption="Developer(s)">	
												<div document-selector ng-model="document.developers" caption="Контактное лицо" question="developers"
														on-build-query="onContactQuery(searchText)" allow-new="true" allow-new-schema="contact"></div>
											</div>
										</div>
										<div class="col-sm-12">
											<div class="km-control-group" required name="description" caption="Описание">
												<div km-rich-textbox rows="4" name="description" required ng-model="document.description" locales="document.header.languages"></div>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" required name="recipientOrganisms" caption="«Организм-реципиент» или «родительские организмы»">	
												<div class="help-block">Термин «организм-реципиент» относится к организму (уже измененному или неизмененному), подвергнутому генетической модификации, а термин «родительские организмы» относится к организмам, участвовавшим в процессах кроссбридинга или слияния клеток.</div>
												<div document-selector required ng-model="document.recipientOrganisms" caption="Добавить организм/измененный организм" question="recipientOrganisms"
														on-build-query="onRecipientOrganismsQuery(searchText)" allow-new="true" allow-new-schema="organism,modifiedOrganism"></div>
											</div>
										</div>

										<div class="col-sm-12">
											<div class="km-control-group"  name="recipientOrganismCollectionPoint" caption="Пункт сбора или приобретения организма реципиента или родительских организмов">
												<div km-textbox-ml name="recipientOrganismCollectionPoint"  ng-model="document.recipientOrganismCollectionPoint" locales="document.header.languages"></div>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" name="linkedModifiedOrganisms" caption="Связанный(-е) ЖИО">	
												<div class="help-block">Данное поле относится к другим ЖИО с аналогичными характеристиками.</div>
												<div document-selector ng-model="document.linkedModifiedOrganisms" question="linkedModifiedOrganism"
															on-build-query="onBuildQuery(searchText, 'modifiedOrganism')" allow-new="true" allow-new-schema="modifiedOrganism"></div>
											</div>
										</div>
									</div>
								</div>
							</section>
							

							<section>
								<div class="no-shadow bg-white">
									<legend>Характеристики процесса модификации</legend>
									<div class="row">
										<div class="col-sm-12">
											<div class="km-control-group" required name="vector" caption="Вектор">
												<div class="help-block">Векторы используются для встраивания в их структуру последовательности ДНК (обычно конструкции промотор-ген-терминатор) с целью облегчения ее переноса в организм-реципиент. Примеры: Agrobacterium Ti plasmid and pBIN19.</div>
												<div km-textbox-ml name="vector"  ng-model="document.vector" locales="document.header.languages"></div>
											</div>
										</div>
										<div class="col-sm-12">
											<div class="km-control-group" required name="techniqueUsed" caption="Методы, использующиеся для модификации">
												<div km-term-check name="techniqueUsed" required ng-model="document.techniqueUsed"
													 terms="options.techniqueUsed" binding-type="term[]" locales="document.header.languages"></div>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" required name="genes" caption="Интродуцированный(-е) или модифицированный(-е) генетический(-е) элемент(ы)">	
												<div class="help-block">Желательно, чтобы в данном разделе были обязательно указаны все генетические элементы, интродуцированные в данный ЖИО, такие как промоторы, кодирующие белок последовательности и терминаторы. Как минимум, обязательно должны быть указаны ВСЕ кодирующие белок последовательности.</div>
												<div document-selector ng-model="document.genes" question="genes" ng-change="onModifiedGeneChange(document.genes)"
															caption="Генетический элемент" on-build-query="onBuildQuery(searchText, 'dnaSequence')" allow-new="true" allow-new-schema="dnaSequence">
													<selected-records>
														<div ng-include="'lmo-reference-display'" onload="docSelector=$parent"></div>
													</selected-records>
												</div>			
											</div>
										</div>
										<div class="col-sm-12">
											<div class="km-control-group" name="geneConstructs" caption="Конструкция генетических элементов">
												<lmo-construct ng-model="document.geneConstructs" ng-change="onConstructChange()"></lmo-construct>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" name="geneNotes" caption="Примечания, касающиеся генетических элементов, присутствующих в данном ЖИО">	
												<div class="help-block">Просьба указать, были ли какие-либо либо из этих генетических элементов изменены относительно последовательности, зарегистрированной в Реестре генетических элементов МПБ, и как они связаны друг с другом в данном ЖИО (например, «последовательность, кодирующая белок <i>EPSPS</i>, управляемая промотором <i>35S</i> и терминатором гена <i>nos</i>»).</div>
												<div km-rich-textbox name="geneNotes" rows="4"  ng-model="document.geneNotes" locales="document.header.languages"></div>	
											</div>
										</div>
									</div>
								</div>
							</section>
	
							
							<section>
								<div class="no-shadow bg-white">
									<legend>Характеристики ЖИО</legend>
									<div class="row"><!-- <div class="col-xs-12">
											<div class="km-control-group" name="isGeneEdited" required
												caption="Was this LMO produced through a gene editing technique?">
												<div km-yes-no required ng-model="document.isGeneEdited" locales="document.header.languages">
												</div>
											</div>
										</div> --><div class="col-sm-12">
											<div  block-region activate="loadingGeneTraits" block-text="Updating trait...">
												<div class="km-control-group" required name="traits" caption="Модифицированные признаки">												
													<traits-selector ng-model="document.traits" locales="document.header.languages"></traits-selector>													
												</div>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" name="affectedGenes"
												caption="Other gene(s) whose expression was affected by the transformation">
												<div class="help-block">Данный раздел следует использовать для указания изменений в экспрессии генов, отличных от тех, которые были вставлены в ЖИО (например, сайленсинг и индукция генов).</div>
												<div document-selector ng-model="document.affectedGenes" question="affectedGenes"
														caption="Генетический элемент" on-build-query="onBuildQuery(searchText, 'dnaSequence')" allow-new="true" allow-new-schema="dnaSequence">
													<selected-records>
														<div ng-include="'lmo-reference-display'" onload="docSelector=$parent"></div>
													</selected-records>
												</div>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" name="affectedGeneNotes"
												caption="Опишите, как была затронута экспрессия гена(-ов)">
												<div km-rich-textbox name="affectedGeneNotes" ng-model="document.affectedGeneNotes"
													locales="document.header.languages" rows="4"></div>
											</div>
										</div>
										<div class="col-sm-12">
											<div class="km-control-group" name="commonUses" caption="Вид(ы) обычного применения ЖИО">
												<div class="help-block">Выберите как можно больше применимых вариантов.</div>
												<div km-term-check name="commonUses" required ng-model="document.commonUses"
													terms="options.commonUses" binding-type="term[]" locales="document.header.languages"></div>
											</div>
										</div>
									</div>
								</div>
							</section>
							<section>
								<div class="no-shadow bg-white">
									<legend>Detection method(s)</legend>
									<div class="row">
										<div class="col-sm-12">
											<div class="help-block">Detection methods information from the CropLife International Detection Methods Database and the EU Reference Laboratory for GM Food and Feed (EURL-GMFF) is dynamically imported from each respective database. As such, these links cannot be manually edited or removed.</div>
											<div class="km-control-group" name="externalLinks" caption="External link(s)">
												<div km-link name="detectionMethodLinks" ng-model="document.detectionMethodLinks" allow-link="true" allow-file="true"
													identifier="document.header.identifier" ></div>
												<div km-link name="externalLinks" ng-model="externalLinks" ng-if="externalLinks" allow-link="false" allow-file="false" identifier="document.header.identifier"></div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-12">
											<div class="km-control-group" name="detectionMethod" caption="Дополнительная информация">
												<div km-rich-textbox ng-model="document.detectionMethod" rows="4" placeholder="" locales="document.header.languages"></div>
											</div>
										</div>
									</div>
								</div>
							</section>
							<section>
								<div class="no-shadow bg-white">
									<legend>Дополнительная информация</legend>
									<div class="row">
										<div class="col-sm-12">
											<div class="km-control-group" name="address" caption="Any other relevant information">
												<div class="help-block">Просьба использовать это поле для представления любой другой актуальной информации, которая, возможно, не была учтена в других разделах записи.</div>
												<div km-rich-textbox ng-model="document.relevantInformation" rows="4" placeholder="" locales="document.header.languages"></div>
											</div>
										</div>
									</div>

									<div class="row">
										<div class="col-sm-12">
											<div class="km-control-group" name="relevantDocuments" caption="Любые другие соответствующие документы">
												<div class="help-block">Укажите в этом поле адреса любых других соответствующих веб-сайтов и/или один или более соответствующих документов, которые будут храниться в базе данных и будут доступны для загрузки пользователями.</div>
												<div km-link name="relevantDocuments" ng-model="document.relevantDocuments" allow-link="true" allow-file="true"
												 identifier="document.header.identifier"></div>
											</div>
										</div>
									</div>
								</div>
							</section>
							<section>
								<legend>Примечания</legend>

								<div class="row">
									<div class="col-sm-12">
										<div class="km-control-group" name="notes">
											<div class="help-block">Поле «Примечания» включено для индивидуального пользования и становится видимым только при редактировании записи. Оно будет скрыто после опубликования записи. Данное поле не предназначено для конфиденциальной информации.</div>
											<div km-notes name="notes" ng-model="document.notes"></div>
										</div>
									</div>
								</div>
							</section>

						</div>
					</form>
				</edit-form>
				<review-form>
					<div view-modified-organism ng-model="review.document" locale="review.locale" allow-drafts="true"></div>
				</review-form>
			</workflow-arrow-buttons>
		</div>
	</div>
	<div id="constructSection">
		<script type="text/ng-template" trados-translation="true" id="geneConstructModal">
			<lmo-construct ng-model="geneConstruct" close-dialog="closeDialog(updatedConstruct)"></lmo-construct>
		</script>
		<script type="text/ng-template" trados-translation="true" id="lmo-reference-display">			
			<table class="table" style="padding-bottom:3px;width:100%;margin-top:5px;">
				<tr ng-repeat="doc in docSelector.model"  >
					<td style="margin-bottom:15px;width:15px;"><a rel="noopener" translation-url  class="btn btn-default" ng-click="$parent.$parent.$parent.removeDocument(doc);" class="link color-red"><i class="fa fa-times"></i></a></td>
					<td class="mb-4">
						<div view-record-reference ng-model="doc.identifier" locale="locale" hide-schema="true"></div>
					</td>
				</tr>
			</table>
		</script>
	</div>
</div>