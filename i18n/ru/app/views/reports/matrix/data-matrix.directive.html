<div>
    <div style="position:relative;min-height: 500px;">
        <div id="output" style="width: 100%;overflow-y: scroll;"></div>
        <div block-region activate="loading" dynamic-text="matrixProgress" style="background-color: black;"></div>
    </div>
    <div style="display: none;"><span id="loadingMessage">Загрузка данных матрицы</span> <span id="resetFilterMessage">Фильтр изменен, перезапуск получения данных</span></div>

	<script type="text/ng-template" trados-translation="true" id="exportDialog">
        <div class="modal-header">
            <h3 class="modal-title">Экспорт результатов</h3>
        </div>
        <div class="modal-body matrix-export-dialog" ng-disabled="forTour">
            <div class="form-group">Формат загрузки : <span class="radio" style="display: initial;" ng-if="exportType=='excel'"><label class="radio-inline"><input type="radio" name="downloadFormatOption" value="xls" ng-model="$parent.downloadFormat" />XLS (Excel)</label>                   
                        <label class="radio-inline"><input type="radio" name="downloadFormatOption" value="xlsx" ng-model="$parent.downloadFormat" />XLSX (Excel)</label>                   
                        <label class="radio-inline"><input type="radio" name="downloadFormatOption" value="csv" ng-model="$parent.downloadFormat" />CSV (comma separated values)</label></span> <span class="radio" style="display: initial;" ng-if="exportType=='chart'"><label class="radio-inline"><input type="radio" name="downloadFormatOption" value="svg" ng-model="$parent.downloadFormat" />SVG</label>                   
                        <label class="radio-inline"><input type="radio" name="downloadFormatOption" value="png" ng-model="$parent.downloadFormat" />PNG</label>                   
                        <label class="radio-inline"><input type="radio" name="downloadFormatOption" value="jpeg" ng-model="$parent.downloadFormat" />JPEG</label>
                        <label class="radio-inline"><input type="radio" name="downloadFormatOption" value="webp" ng-model="$parent.downloadFormat" />WEBP</label></span> <span style="display:inline" class="float-end"><label>Имя файла:</label>
                        <input type="text" ng-model="fileName" /></span>
            </div>
            <div id="divTable"  style="max-height:300px;overflow:scroll; ">
                <table class="pvtUi">
                    <tr>
                        <td>                            
                            <div ng-bind-html="exportData" class="js-plotly-plot"></div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" aria-label="Close" ng-click="closeDialog()" ng-disabled="loading||forTour">Закрыть</button>
            <button type="button" class="btn btn-primary float-start" aria-label="Download" ng-click="downloadData()"  ng-disabled="loading||forTour" id="downloadDataFile"><i class="fa fa-spin fa-spinner" ng-if="loading" ></i> Загрузить</button>  
        </div>
    </script>
</div>