<div  id="RegisterPage">
	<link href="/app/css/register.css" rel="stylesheet">
	<link href="/app/css/record.css" rel="stylesheet"><span register-top-menu></span><style> .table>tbody:hover { background-color: #f2dede; ; } </style>
	<div class="innerPageContent register-content card card-1-notrans" style="margin:0;padding:20px;">

		<div class="register-content-header bg-pink color-white">
			<div style="padding:10px 10px;">
				<h3>suscripciones</h3>
			</div>
		</div>
		<div class="register-content-content">

			<legend name="formInfo" style="display:none"></legend><!--<div style="font-weight:bold;">Records which have been not approved since 12 weeks.</div>--><div class="registerpage-content">

				<div class="alert alert-danger" ng-show="__error"><strong>Error:</strong> <span ng-bind="__error"></span></div>
				<legend>Filtros</legend>
				<div class="row">
					<div class="col-xs-6">
						<div class="km-control-group" name="startDate" required caption="Fecha de inicio">
							<div km-date placeholder="AAAA-MM-DD" required name="startDate" ng-model="filters.startDate"></div>
						</div>
					</div>
					<div class="col-xs-6">
						<div class="km-control-group" name="endDate" caption="Fecha de finalización">
							<div km-date placeholder="AAAA-MM-DD" name="endDate" ng-model="filters.endDate"></div>
						</div>
					</div>
					<div class="col-xs-6">
						<div class="km-control-group" name="systemAlert" caption="">
							<input type="checkbox" ng-model="filters.systemAlerts"/>Incluir suscripción al sistema</div>
					</div>
				</div><!--<div class="row">
                    <div class="col-xs-12">
                        <div class="float-start">                            
                            <input type="text" ng-model="keywords" placeholder=" keyword " class="form-control keyword" style="width:250px;display:inline;" />
                        </div>
                    </div>
                </div>--> <br> <br><div class="row">
					<div class="col-xs-12">
						
						<div style="width:100%" ng-show="subscriptions.length>0"><strong>Count : <span ng-bind="recordCount"></span></strong><div  ng-if="loadingSubscriptions"><i class="fa fa-spin fa-spinner fa-2x"></i>loading....</div>
							<ul class="list-group" ng-if="!loadingSubscriptions">
								<li class="list-group-item clearfix" style="background-color:#eee;"
								ng-repeat="record in subscriptions">
									<h4><a rel="noopener" class="text-bold mb0 color-blue" ng-bind="record.queryTitle"></a> <a rel="noopener" class="label label-warning" target="_blank" ng-href="https://accounts.cbd.int/admin/users/{{record.meta.createdBy|encodeURIComponent}}" ng-bind="record.meta.createdBy"></a> <span class="label label-danger" ng-if="record.isSystemAlert">Alerta del sistema</span></h4><span style="color:#bbb;">FILTROS:</span><span ng-repeat="filter in record.filters" style="margin-bottom:10px;margin-right:10px;"><span class="label label-info"><span ng-if="filter.type === 'freeText' || filter.type === 'UID'">"</span><span ng-bind="filter.name"></span> <span ng-if="filter.type === 'freeText' || filter.type === 'UID'">"</span></span></span><button ng-click="confirmDelete(record)" class="btn-danger pull-right btn btn-small" ng-disabled="deletingRecord"><i class="fa fa-spin fa-spinner" ng-if="deletingRecord == record._id"></i> <small class="hidden-xs">Unsubscribe</small> <i class="fa fa-trash-o"></i></button>
									
								</li>
							</ul>
							<div pagination  ng-if="recordCount > itemsPerPage" class="text-center" 
								 current-page="currentPage"  page-count="pageCount" on-page-change="onPageChange(page)"
								 page-size="itemsPerPage" num-found="recordCount" on-page-size-changed="onPageSizeChanged(size)"></div> 
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
</div>