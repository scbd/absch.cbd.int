<div>

<div class="innerPageEditForm"><span block-region activate="isLoading()" ng-if="isLoading()"></span><div class="registerpage-content">

			<workflow-arrow-buttons on-review-language-change="onReviewLanguageChange(lang)" document="getCleanDocument()" languages="document.header.languages" hide-timer="false" tab="tab"
			 validation-report="validationReport" on-post-close="onPostClose()" on-error="onError(error, errorCode)"
			 on-post-publish="onPostPublishOrRequest(data)" on-pre-publish="onPrePublish()" on-pre-save-draft="onPreSaveDraft()"
			 on-post-save-draft="onPostSaveDraft(data)" on-post-request="onPostPublishOrRequest(data)" on-pre-request="onPreRequest()"
			 data-container="{{container}}" is-dialog="{{isDialog}}" document-type="{{type}}">
				<edit-form>
					<form class="editForm mt-2" name="editForm">
						<div>

							<section>
								<div class="no-shadow bg-white">
									<legend>Información general</legend>
									<div class="row">
										<div class="col-xs-12">
											<div class="km-control-group" name="header.languages" required caption="Sírvase seleccionar el/los idioma(s) en los que desea presentar este registro:">
												<div class="indent">
													<div km-form-languages multiple required name="header.languages" ng-model="document.header.languages"></div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</section>

							<section>
								<div class="no-shadow bg-white">
									<legend>Identidad del organismo vivo modificado (OVM)</legend>
									<div class="row">
										<div class="col-sm-12">
											<div class="km-control-group"  name="identity" caption="Nombre del OVM">
												<div class="help-block">Nombre comúnmente utilizado para identificar el OVM, tal como el nombre comercial (por ejemplo, la soja Roundup, papa NewLeaf ®, etc)</div>
												<div km-textbox-ml name="identity"  ng-model="document.identity" locales="document.header.languages"></div>
											</div>
										</div>
										<div class="col-sm-12">
											<div class="km-control-group" required name="transformationEvent" caption="Eventos de transformación">
												<div class="help-block">Nombre de la transformación, por ejemplo, MON810</div>
												<input type="text" class="form-control" name="transformationEvent" required ng-model="document.transformationEvent"/>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" name="hasUniqueIdentification" required caption="¿Este OVM tiene un identificador único?">
												<div class="help-block">El CIISB está utilizando actualmente el sistema de identificador único que figura en la Guía de la OCDE para la designación de los identificadores únicos para los vegetales transgénicos (por ejemplo, MON-ØØ81Ø-6). Para más información consulte <a rel="noopener" href="/kb/tags/lmo-gene-orga/What-are-Unique-Identifiers-UIDs-/5ff77cb5261fe900012a0fef">https://bch.cbddev.xyz/en/kb/tags/lmo-gene-orga/What-are-Unique-Identifiers-UIDs-/5ff77cb5261fe900012a0fef</a>.</div>
												<div km-yes-no required ng-model="document.hasUniqueIdentification" locales="document.header.languages"></div>
											</div>
										</div>
										<div class="col-sm-12" ng-if="document.hasUniqueIdentification">
											<div class="km-control-group" required name="uniqueIdentification" caption="Identificador único">
												<input type="text" class="form-control" name="uniqueIdentification" required ng-model="document.uniqueIdentification"
													ng-change="lookupDetections()"/>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" required name="developers" caption="Creador(es)">	
												<div document-selector ng-model="document.developers" caption="Contacto" question="developers"
														on-build-query="onContactQuery(searchText)" allow-new="true" allow-new-schema="contact"></div>
											</div>
										</div>
										<div class="col-sm-12">
											<div class="km-control-group" required name="description" caption="Descripción">
												<div km-rich-textbox rows="4" name="description" required ng-model="document.description" locales="document.header.languages"></div>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" required name="recipientOrganisms" caption=""Organismo receptor" u "organismos parentales"">	
												<div class="help-block">El término "organismo receptor" hace referencia a un organismo (modificado o no modificado) que fue objeto de una modificación genética, en tanto que "organismos parentales" hace referencia a los implicados en el cruzamiento o la fusión de células.</div>
												<div document-selector required ng-model="document.recipientOrganisms" caption="Agregar organismo/organismo vivo modificado" question="recipientOrganisms"
														on-build-query="onRecipientOrganismsQuery(searchText)" allow-new="true" allow-new-schema="organism,modifiedOrganism"></div>
											</div>
										</div>

										<div class="col-sm-12">
											<div class="km-control-group"  name="recipientOrganismCollectionPoint" caption="Punto de recolección o adquisición del organismo receptor o de los organismos parentales">
												<div km-textbox-ml name="recipientOrganismCollectionPoint"  ng-model="document.recipientOrganismCollectionPoint" locales="document.header.languages"></div>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" name="linkedModifiedOrganisms" caption="OVM relacionado(s)">	
												<div class="help-block">Este campo se relaciona con otros OVM con características similares.</div>
												<div document-selector ng-model="document.linkedModifiedOrganisms" question="linkedModifiedOrganism"
															on-build-query="onBuildQuery(searchText, 'modifiedOrganism')" allow-new="true" allow-new-schema="modifiedOrganism"></div>
											</div>
										</div>
									</div>
								</div>
							</section>
							

							<section>
								<div class="no-shadow bg-white">
									<legend>Características del proceso de modificación</legend>
									<div class="row">
										<div class="col-sm-12">
											<div class="km-control-group" required name="vector" caption="Vector">
												<div class="help-block">Los vectores son utilizados para incorporar una secuencia de ADN (por lo general la construcción del promotor-gen-terminador) para ayudar en su transferencia al organismo receptor. Ejemplos: Plásmido Ti de Agrobacterium y pBIN19.</div>
												<div km-textbox-ml name="vector"  ng-model="document.vector" locales="document.header.languages"></div>
											</div>
										</div>
										<div class="col-sm-12">
											<div class="km-control-group" required name="techniqueUsed" caption="Técnicas utilizadas para la modificación">
												<div km-term-check name="techniqueUsed" required ng-model="document.techniqueUsed"
													 terms="options.techniqueUsed" binding-type="term[]" locales="document.header.languages"></div>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" required name="genes" caption="Elemento(s) introducido(s) o genéticamente modificado(s)">	
												<div class="help-block">Es preferible que en esta sección se haga referencia a todos los elementos genéticos introducidos en este OVM, tales como promotores, secuencias de codificación de la proteína y terminadores. Como mínimo, es obligatorio consignar TODAS las secuencias de codificación de la proteína.</div>
												<div document-selector ng-model="document.genes" question="genes" ng-change="onModifiedGeneChange(document.genes)"
															caption="Elemento genético" on-build-query="onBuildQuery(searchText, 'dnaSequence')" allow-new="true" allow-new-schema="dnaSequence">
													<selected-records>
														<div ng-include="'lmo-reference-display'" onload="docSelector=$parent"></div>
													</selected-records>
												</div>			
											</div>
										</div>
										<div class="col-sm-12">
											<div class="km-control-group" name="geneConstructs" caption="Constructo elementos genéticos">
												<lmo-construct ng-model="document.geneConstructs" ng-change="onConstructChange()"></lmo-construct>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" name="geneNotes" caption="Notas relacionadas con los elementos genéticos presentes en este OVM">	
												<div class="help-block">Por favor, especifique si alguno de estos elementos se ha modificado a partir de la secuencia registrada en el Registro de Elemento Genético del CIISB y cómo se relacionan entre sí en este OVM, por ejemplo, "secuencia de codificación de la proteína <i>epsps</i> bajo control del promotor <i><i>35S</i></i> y el terminador <i>nos</i>".</div>
												<div km-rich-textbox name="geneNotes" rows="4"  ng-model="document.geneNotes" locales="document.header.languages"></div>	
											</div>
										</div>
									</div>
								</div>
							</section>
	
							
							<section>
								<div class="no-shadow bg-white">
									<legend>Características del OVM</legend>
									<div class="row"><!-- <div class="col-xs-12">
											<div class="km-control-group" name="isGeneEdited" required
												caption="Was this LMO produced through a gene editing technique?">
												<div km-yes-no required ng-model="document.isGeneEdited" locales="document.header.languages">
												</div>
											</div>
										</div> --><div class="col-sm-12">
											<div  block-region activate="loadingGeneTraits" block-text="Updating trait...">
												<div class="km-control-group" required name="traits" caption="Rasgos modificados">												
													<traits-selector ng-model="document.traits" locales="document.header.languages"></traits-selector>													
												</div>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" name="affectedGenes"
												caption="Otro(s) gen(es) cuya expresión fue afectada por la transformación">
												<div class="help-block">Esta sección debe usarse para especificar los cambios en la expresión de genes distintos de los que se insertaron en los organismos vivos modificados, por ejemplo, el silenciamiento o la inducción del gen.</div>
												<div document-selector ng-model="document.affectedGenes" question="affectedGenes"
														caption="Elemento genético" on-build-query="onBuildQuery(searchText, 'dnaSequence')" allow-new="true" allow-new-schema="dnaSequence">
													<selected-records>
														<div ng-include="'lmo-reference-display'" onload="docSelector=$parent"></div>
													</selected-records>
												</div>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" name="affectedGeneNotes"
												caption="Por favor describa cómo la expresión del(los) gen(es) se vio afectada">
												<div km-rich-textbox name="affectedGeneNotes" ng-model="document.affectedGeneNotes"
													locales="document.header.languages" rows="4"></div>
											</div>
										</div>
										<div class="col-sm-12">
											<div class="km-control-group" name="commonUses" caption="Uso(s) común(es) del OVM">
												<div class="help-block">Seleccione tantas opciones como sea preciso.</div>
												<div km-term-check name="commonUses" required ng-model="document.commonUses"
													terms="options.commonUses" binding-type="term[]" locales="document.header.languages"></div>
											</div>
										</div>
									</div>
								</div>
							</section>
							<section>
								<div class="no-shadow bg-white">
									<legend>Método(s) de detección</legend>
									<div class="row">
										<div class="col-sm-12">
											<div class="help-block">Detection methods information from the CropLife International Detection Methods Database and the EU Reference Laboratory for GM Food and Feed (EURL-GMFF) is dynamically imported from each respective database. As such, these links cannot be manually edited or removed.</div>
											<div class="km-control-group" name="externalLinks" caption="Enlace(s) externo(s)">
												<div km-link name="detectionMethodLinks" ng-model="document.detectionMethodLinks" allow-link="true" allow-file="true"
													identifier="document.header.identifier" ></div>
												<div km-link name="externalLinks" ng-model="externalLinks" ng-if="externalLinks" allow-link="false" allow-file="false" identifier="document.header.identifier"></div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-12">
											<div class="km-control-group" name="detectionMethod" caption="Additional information">
												<div km-rich-textbox ng-model="document.detectionMethod" rows="4" placeholder="" locales="document.header.languages"></div>
											</div>
										</div>
									</div>
								</div>
							</section>
							<section>
								<div class="no-shadow bg-white">
									<legend>Información adicional</legend>
									<div class="row">
										<div class="col-sm-12">
											<div class="km-control-group" name="address" caption="Cualquier otra información pertinente">
												<div class="help-block">Please use this field to provide any other relevant information that may not have been addressed elsewhere in the record.</div>
												<div km-rich-textbox ng-model="document.relevantInformation" rows="4" placeholder="" locales="document.header.languages"></div>
											</div>
										</div>
									</div>

									<div class="row">
										<div class="col-sm-12">
											<div class="km-control-group" name="relevantDocuments" caption="Otros documentos pertinentes">
												<div class="help-block">Por favor, utilice este campo para proporcionar otras direcciones web pertinentes y/o uno o más documentos pertinentes que se almacenarán en la base de datos para que los usuarios los descarguen.</div>
												<div km-link name="relevantDocuments" ng-model="document.relevantDocuments" allow-link="true" allow-file="true"
												 identifier="document.header.identifier"></div>
											</div>
										</div>
									</div>
								</div>
							</section>
							<section>
								<legend>Notas</legend>

								<div class="row">
									<div class="col-sm-12">
										<div class="km-control-group" name="notes">
											<div class="help-block">El campo “Notas” es para referencia personal y solo puede verse mientras se edita el registro. Se ocultará una vez que se haya publicado el registro. Este campo no está destinado a ser usado para información confidencial.</div>
											<div km-notes name="notes" ng-model="document.notes"></div>
										</div>
									</div>
								</div>
							</section>

						</div>
					</form>
				</edit-form>
				<review-form>
					<div view-modified-organism ng-model="review.document" locale="review.locale" allow-drafts="true"></div>
				</review-form>
			</workflow-arrow-buttons>
		</div>
	</div>
	<div id="constructSection">
		<script type="text/ng-template" trados-translation="true" id="geneConstructModal">
			<lmo-construct ng-model="geneConstruct" close-dialog="closeDialog(updatedConstruct)"></lmo-construct>
		</script>
		<script type="text/ng-template" trados-translation="true" id="lmo-reference-display">			
			<table class="table" style="padding-bottom:3px;width:100%;margin-top:5px;">
				<tr ng-repeat="doc in docSelector.model"  >
					<td style="margin-bottom:15px;width:15px;"><a rel="noopener" translation-url  class="btn btn-default" ng-click="$parent.$parent.$parent.removeDocument(doc);" class="link color-red"><i class="fa fa-times"></i></a></td>
					<td class="mb-4">
						<div view-record-reference ng-model="doc.identifier" locale="locale" hide-schema="true"></div>
					</td>
				</tr>
			</table>
		</script>
	</div>
</div>