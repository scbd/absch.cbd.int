<div>
  
    <div class="edit-authority-directive" style="padding: 24px;background-color:#FFF;;border-bottom:2px solid #ccc;">
        <div class="registerpage-content">

            <warning-message-cna doc="document"></warning-message-cna>

            <workflow-arrow-buttons on-review-language-change="onReviewLanguageChange(lang)" document="getCleanDocument()" languages="document.header.languages" hide-timer="false"
            tab="tab" validation-report="validationReport" on-post-close="onPostClose()" on-error="onError(error, errorCode)"
            on-post-publish="onPostPublishOrRequest(data)" on-pre-publish="onPrePublish()" on-pre-save-draft="onPreSaveDraft()"
            on-post-save-draft="onPostSaveDraft(data)" on-post-request="onPostPublishOrRequest(data)" on-pre-request="onPreRequest()"
            data-container="{{container}}" is-dialog="{{isDialog}}">
                <edit-form>
                    <form class="editForm" name="editForm">
                        <div ng-show="tab=='edit'" km-tab="edit">
                            <legend name="formInfo" style="display:none"></legend>
        
                            <section>
                                <legend name="generalInfo">Información general</legend>

                                <div class="row">
                                    <div class="col-xs-12" >
                                        <div class="km-control-group" name="header.languages" required caption="Sírvase seleccionar el/los idioma(s) en los que desea enviar este registro:">
                                            <div class="indent">
                                                <div km-form-languages multiple required name="header.languages" ng-model="document.header.languages"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="km-control-group" name="government" required caption="País">
                                            <div>
                                                <div afc-autocomplete required name="government" ng-disabled="userGovernment()"
                                                    ng-model="document.government" source="options.countries"
                                                    filter="genericFilter" mapping="genericMapping" selectbox="true"
                                                    placeholder="Seleccione un país…"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-xs-12">                                        
                                        <div class="km-control-group" name="name" required caption="">
                                            <label name="name" class="control-label" required for="name"><span ng-if="type!='SPCA'">Nombre de la Autoridad Nacional Competente</span> <span ng-if="type=='SPCA'">Nombre de la Autoridad Competente</span></label>
                                            <div class="help-info">Proporcione el nombre de la entidad responsable, por ej., Ministerio de Medio Ambiente. <span ng-if="isAbs">Tenga en cuenta que el nombre de la Autoridad Nacional Competente (ANC) ayudará a identificar el registro en el Centro de Intercambio de Información sobre APB.</span></div>
                                            <div km-textbox-ml name="name" required ng-model="document.name" rows="1"
                                                placeholder="" locales="document.header.languages"></div>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <section>
                                <legend name="coordinates">Información de contacto</legend>
                                <div class="help-info" ng-if="isAbs">Las coordenadas ayudarán a los usuarios de recursos genéticos a estar en contacto con la ANC. Es importante mantener actualizada esta información a fin de que los usuarios reciban información reciente y precisa.</div>

                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="km-control-group" name="address" caption="Dirección">
                                            <div km-textbox-ml ng-model="document.address" rows="2" placeholder="ejemplo: 413 St Jacques Street, Suite 800"
                                                locales="document.header.languages"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-xs-6">
                                        <div class="km-control-group" name="city" required caption="Ciudad">
                                            <div km-textbox-ml name="city" ng-model="document.city" required
                                                locales="document.header.languages" placeholder="ejemplo: Montreal"></div>
                                        </div>
                                    </div>

                                    <div class="col-xs-6">
                                        <div class="km-control-group" name="state" caption="Estado o provincia">
                                            <div km-textbox-ml name="state" ng-model="document.state" locales="document.header.languages"
                                                placeholder="ejemplo: Quebec"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">

                                    <div class="col-xs-6">
                                        <div class="km-control-group" name="postalCode" caption="Código postal">
                                            <div km-textbox-ml name="postalCode" ng-model="document.postalCode"
                                                locales="document.header.languages" placeholder="ejemplo: H2Y 1N9"></div>
                                        </div>
                                    </div>

                                    <div class="col-xs-6" ng-if="options.countries">
                                        <div class="km-control-group" name="country" required caption="País de contacto">
                                            <div afc-autocomplete name="country" ng-model="document.country" source="options.countries"
                                                mapping="genericMapping" selectbox="true" placeholder="Seleccione un país…"
                                                required filter="startsWithFilter" maxmatches="50"></div>
                                        </div>
                                    </div>
                                </div>



                                <div class="row">
                                    <div class="col-xs-6">
                                        <div class="km-control-group" name="phones" required caption="Número(s) de teléfono">
                                            <div class="help-info">Por favor, utilice el siguiente formato: + [código del país] [código de ciudad] [número de teléfono] [extensión, si corresponde].</div>
                                            <div km-inputtext-list name="phones" ng-model="document.phones"
                                                required placeholder="ejemplo: +1 514.288.2220"></div>
                                        </div>
                                    </div>

                                    <div class="col-xs-6">
                                        <div class="km-control-group" name="faxes" caption="Número(s) de fax">
                                            <div class="help-info">Por favor, utilice el siguiente formato: + [código del país] [código de ciudad] [número de teléfono] [extensión, si corresponde].</div>
                                            <div km-inputtext-list name="faxes" ng-model="document.faxes"
                                                placeholder="ejemplo: +1 514.288.6588"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-xs-6">
                                        <div class="km-control-group" name="emails" required caption="Correo electrónico:">
                                            <div km-inputtext-list name="emails" required type="email" ng-model="document.emails"
                                                placeholder="ejemplo: secretariat@cbd.int"></div>
                                        </div>
                                    </div>

                                    <div class="col-xs-6">
                                        <div class="km-control-group" name="websites" caption="Dirección(es) del sitio web">
                                            <div km-link name="websites" ng-model="document.websites" allow-link="true"
                                                allow-file="false"></div>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <legend name="contactInfo">Información de contacto adicional</legend>

                            <div class="row">
                                <div class="col-xs-12">
                                    <div class="km-control-group" name="contacts" caption="Persona responsable">
                                        <div document-selector ng-model="document.contacts" question="contacts"
                                            on-build-query="onContactQuery(searchText)" allow-new="true"
                                            allow-new-schema="contact{{isAbs ? ',authority':''}}"></div>

                                    </div>
                                </div>
                            </div>
                            </section><!-- This section will be remove if this not required for ABS --><section ng-if="isAbs">
                                <legend name="policyBasis">Fundamentos jurídicos, administrativos o de política para la competencia de la Autoridad Nacional Competente (ANC)</legend>
                                <div class="help-info">En esta sección puede incluirse una referencia a la medida relacionada con APB que otorga competencia a la ANC. A fin de establecer un enlace entre la ANC y una medida pertinente en materia de APB, el registro de la medida en materia de APB tiene que ingresarse en primer término. Por lo tanto, si todavía no se ha presentado la medida en materia de APB pertinente, tal vez se desee grabar la ANC como un borrador y publicar antes la medida en materia de APB.<br/> En esta sección puede incluirse una referencia a la medida conexa que otorga competencia a la autoridad nacional competente para el Protocolo de Cartagena. A fin de establecer un enlace entre la autoridad nacional competente y una medida pertinente, el registro de la medida tiene que ingresarse en primer término. Por lo tanto, si todavía no ha presentado la medida pertinente, tal vez desee grabar la autoridad nacional competente para el Protocolo de Cartagena como un borrador y publicar primero la medida, o puede crear la medida en línea.</div>
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="km-control-group" name="policyBasisForCompetencyRef" caption="Proporcione un enlace a todas las medidas jurídicas, administrativas o de política pertinentes.">
                                            <div document-selector ng-disabled="!document.government.identifier" ng-model="document.policyBasisForCompetencyRef"
                                                question="policyBasisForCompetencyRef"
                                                on-build-query="onMeasureQuery(searchText)" filter="true"
                                                allow-new="true" allow-new-schema="measure"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="km-control-group" name="policyBasisForCompetency" caption="Si fuese necesario, proporcione información adicional sobre el fundamento jurídico, administrativo o de política sobre la competencia de la ANC."></div>
                                        <div km-rich-textbox ng-model="document.policyBasisForCompetency" rows="6"
                                            placeholder="" locales="document.header.languages"></div>
                                    </div>
                                </div>
                            </section>


                            <section ng-if="isAbs">
                                <legend name="responsibilities">Responsabilidades</legend>
                                <div class="help-info">En el párrafo 4 del artículo 13 se establece que "Si una Parte designara más de una autoridad nacional competente, comunicará a la Secretaría, junto con la notificación correspondiente, la información pertinente sobre las responsabilidades respectivas de esas autoridades. En los casos en que corresponda, en esa información se deberá especificar, como mínimo, qué autoridad competente es responsable de los recursos genéticos solicitados".</div>
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="km-control-group" ng-show="showResponsibleforAllMsg()" name="responsibleForAllNot"
                                            caption="Ya existe una ANC para su país, sírvase especificar el alcance de las responsabilidades de cada ANC."></div>

                                        <div class="km-control-group" name="responsibleForAll" required caption="¿Esta es la única ANC designada en su país? Si la respuesta es negativa, sírvase describir las responsabilidades de esta autoridad nacional competente.">

                                            <div km-yes-no required ng-model="document.responsibleForAll"
                                                locales="document.header.languages"></div>
                                        </div>
                                    </div>
                                </div><!-- IF NO SECTION --><div ng-class="{'disable':(document.responsibleForAll==true || document.responsibleForAll==null), 'bg-white':!(document.responsibleForAll==true || document.responsibleForAll==null) }"
                                    class="well no-shadow" style="padding-top:0;padding-bottom:0;">
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <h4 ng-show="document.responsibleForAll==null">Si no fuera así, no es preciso completar la información a continuación.</h4>
                                                    <h4 ng-show="document.responsibleForAll==true">Esta sección no es obligatoria.</h3>
                                                        <div ng-show="document.responsibleForAll==false">
                                                            <h4 class="color-red">Esta sección es obligatoria cuando existe más de una ANC Por favor, asegúrese de que se describan adecuadamente las responsabilidades de cada ANC en todos los registros publicados.</h4>
                                                        </div>

                                                        <div class="km-control-group" name="responsibilities"
                                                            caption="Descripción breve de las responsabilidades de la ANC (máximo 300 caracteres)."
                                                            required>
                                                            <div class="help-info">En el artículo 13, párrafo 2, se establece que "Con arreglo a las medidas legislativas, administrativas o de política correspondientes, las autoridades nacionales competentes estarán encargadas de conceder el acceso o, según proceda, de emitir una prueba por escrito de que se ha cumplido con los requisitos de acceso, y estarán encargadas de asesorar 
sobre los procedimientos y requisitos correspondientes para obtener el consentimiento fundamentado previo y concertar condiciones mutuamente acordadas" Recuerde que el propósito de esta sección es brindar asistencia a los usuarios para que comprendan las responsabilidades relacionadas con el acceso a recursos genéticos y que debería responder la siguiente pregunta: ¿Quién concede el acceso a qué? La descripción de las responsabilidades debería ser breve y clara, a fin de que pueda comprenderse.</div>
                                                            <div km-rich-textbox name="responsibilities" ng-model="document.responsibilities"
                                                                rows="6" placeholder="" locales="document.header.languages"
                                                                required></div>
                                                        </div>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <div class="km-control-group" name="absJurisdiction" caption="Zona de jurisdicción para conceder el acceso a recursos genéticos"
                                                        required>
                                                        <div class="help-info">La información sobre la zona de jurisdicción (nacional/federal, subnacional o comunitaria) ayuda a indicar las diferentes responsabilidades de distintas ANC.</div>
                                                        <div km-select multiple name="absJurisdiction" ng-model="document.absJurisdiction"
                                                            items="options.jurisdictions()" required></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-xs-6">
                                                    <div ng-show="showJurisdictionName()">
                                                        <div class="km-control-group" name="absJurisdictionName"
                                                            required caption="Nombre de la(s) jurisdicción(es)">
                                                            <div km-textbox-ml ng-model="document.absJurisdictionName"
                                                                rows="1" locales="document.header.languages"
                                                                placeholder="nombres de las jurisdicciones"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <div class="km-control-group" name="absGeneticResourceTypes"
                                                        caption="Palabras clave para describir el alcance de las responsabilidades de las ANC.">
                                                        <div class="help-info">La recopilación de esta información es importante para facilitar las búsquedas armonizadas a través de los registros. Sírvase seleccionar todas las palabras clave pertinentes que podrían prestar ayuda para describir las responsabilidades de la ANC.</div>
                                                        <div km-select multiple name="absGeneticResourceTypes"
                                                            ng-model="document.absGeneticResourceTypes" items="options.keywords()"
                                                            show-description="true"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div><!-- END IF NO SECTION --></section>

                            <section ng-if="isBch">
                                <legend>Responsabilidades</legend>
                                <div class="help-info"><span ng-if="type!='SPCA'">En el párrafo 2 del artículo 19 se establece que "Si una Parte designara más de una autoridad nacional competente, comunicará a la Secretaría, junto con la notificación correspondiente, información sobre las
responsabilidades respectivas de esas autoridades. En los casos en que corresponda, en esa información se deberá especificar, como mínimo, qué autoridad competente es responsable para cada tipo de organismo vivo modificado".</span> <span ng-if="type=='SPCA'">Si hubiera más de una autoridad competente responsable de las funciones que emanan del artículo 5 del Protocolo suplementario de Nagoya - Kuala Lumpur sobre responsabilidad y compensación, sírvase especificar las funciones que son responsabilidad de cada autoridad competente.<br/> Si la autoridad competente ejerce otras funciones relacionadas con la responsabilidad y compensación, más allá de las establecidas en el artículo 5 del Protocolo suplementario, también se puede proporcionar una descripción de dichas funciones a continuación.</span></div>
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div  ng-if="type!='SPCA'" class="km-control-group functions" name="functions" caption="Funciones administrativas" required>
                                            <div class="help-info"><span ng-if="type=='CNA'">Si hubiera más de una autoridad nacional competente, sírvase completar un formato común diferente para cada autoridad. Si hay solo una autoridad responsable de todas las funciones a desempeñar en el marco del Protocolo, sírvase seleccionar "Todas las funciones con arreglo al Protocolo de Cartagena sobre Seguridad de la Biotecnología".</span></div>
                                            <div km-term-check name="functions" required ng-model="document.functions" locales="document.header.languages"
                                            terms="options.functions()" binding-type="term[]" show-description="true"></div>
                                        </div>
                                        <div ng-if="type=='CNA'" class="km-control-group type-of-organism" name="cpbOrganismTypes" caption="Tipos de organismo(s) bajo su responsabilidad" required>
                                            <div class="help-info">Si hay solo una Autoridad responsable de todas las funciones a desempeñar en el marco del Protocolo, por favor seleccione "Todos los tipos de organismos".</div>
                                            <div km-term-check name="cpbOrganismTypes" required ng-model="document.cpbOrganismTypes" locales="document.header.languages"
                                            terms="options.bchOrganismTypes()" binding-type="term[]"></div>
                                        </div>

                                        <div  ng-if="type!='SPCA'" class="km-control-group" name="responsibilities" caption="Descripción detallada de las funciones normativas">
                                            <div class="help-info" ng-if="type!=='SPCA'">Si es necesario, proporcione información adicional sobre las funciones normativas y las responsabilidades de la Autoridad Nacional Competente.</div>
                                            <div km-rich-textbox name="responsibilities" ng-model="document.responsibilities"
                                                rows="6" placeholder="" locales="document.header.languages"></div>
                                        </div>
                                    </div>                                        
                                </div>
                            </section>
                            <section  ng-if="isBch && type=='SPCA'">
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="km-control-group" name="responsibleForAll" required caption="¿Esta es la única Autoridad Nacional Competente para el Protocolo suplementario designada en su país?">
                                            <div class="help-info">Si la respuesta es "no", describa las responsabilidades de la autoridad competente en el recuadro a continuación. Sírvase completar diferentes formatos comunes para cada autoridad competente.</div>
                                            <div km-yes-no required ng-model="document.responsibleForAll" locales="document.header.languages"></div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12">
                                        <div class="km-control-group" name="responsibilities" required="{{!document.responsibleForAll}}"
                                        caption="Descripción breve de las responsabilidades de la autoridad competente (máx., 300 caracteres)." >
                                        <div class="help-info">Esta información es necesaria cuando hay más de una autoridad competente.</div>
                                        <div km-rich-textbox name="responsibilities" ng-model="document.responsibilities"
                                            rows="6" placeholder="" locales="document.header.languages"
                                            required="{{!document.responsibleForAll}}"></div>
                                    </div>
                                    </div>
                                </div>
                            </section>
                            <section ng-if="isBch">
                                <legend>Plazo para la confirmación o actualización de la información</legend>
                                <div class="help-info">Por favor, tenga en cuenta que esta categoría de información requiere la confirmación o actualización al cabo de un año a partir de la fecha de presentación. Transcurrido el plazo, se le pedirá que confirme o actualice el registro dentro de los tres meses siguientes. Después de este período, si no se ha recibido la confirmación, el registro será marcado como "No Confirmado".</div>
                            </section>
                            <section>
                                <legend>Información adicional</legend>
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="km-control-group" name="relevantInformation" caption="Información adicional">
                                            <div class="help-info">Por favor, utilice este campo para facilitar cualquier otra información pertinente que no se haya incluido en otro lugar del registro.</div>
                                            <div km-rich-textbox name="relevantInformation" rows="6" ng-model="document.relevantInformation"
                                                locales="document.header.languages"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="km-control-group" name="relevantDocuments" caption="Otros documentos pertinentes">
                                            <div class="help-block">Por favor, utilice este campo para proporcionar otras direcciones web pertinentes y/o uno o más documentos pertinentes que se almacenarán en la base de datos para que los usuarios los descarguen.</div>
                                            <div km-link name="relevantDocuments" ng-model="document.relevantDocuments" allow-link="true" allow-file="true" identifier="document.header.identifier"></div>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <section>
                                <legend>Notas</legend>
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="km-control-group" name="notes">
                                            <div class="help-info">El campo “Notas” es para referencia personal y solo puede verse mientras se edita el registro. Se ocultará una vez que se haya publicado el registro. Este campo no está destinado a ser usado para información confidencial.</div>
                                            <div km-notes name="notes" ng-model="document.notes"></div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>
                    </form>
                </edit-form>
                <review-form>
                    <view-authority ng-model="review.document" locale="review.locale" allow-drafts="true"></view-authority>
                </review-form>
            </div>

        </div>

    </div>

</div>