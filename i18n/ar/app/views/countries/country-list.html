<div class="mb-5" dir="rtl">
	<style> table { border-collapse: collapse; } .tableContainer { margin: auto; } .fixed { top: 0; position: fixed; } .scrollMore { margin-top: 600px; } .up { cursor: pointer; } .table-hover>tbody>tr:hover>td { background-color: #FFF; } .letter { color: #999; } .letter-active { font-weight: bold; color: #111 !important; } .zero { background-color: #DDD !important; } .breadcrumbs { background-color: #FFF !important; } .breadcrumbs { font-size: 12px; color: #111; text-decoration: none; } .breadcrumbs a { font-size: 12px; color: #999; text-decoration: none; } </style>


	<div id="Jumbotron" class="bg-white d-none d-lg-block position-relative overflow-hidden" block-region
		activate="loadingMap">
	</div>



	<div class="countries-list overflow-hidden min-vh-100" block-region activate="loading"
		block-text=" Loading country details">
		<div ng-if="readyForExport" style="display: none">
			<div class="table-responsive">
				<table id="forExport" class="table table-hover">
					<tr>
						<th>البلد</th>
						<th>الحالة</th>
						<th ng-if="regions.length>0">المناطق</th>
						<th ng-repeat="header in headerCount"><span ng-bind="header.title|lstring"></span> (<span ng-bind="header.shortCode"></span>)</th>
					</tr>
					<tr
						ng-repeat="country in list = (countries | filter:hasCountries | filter: hasStatus | filter: hasRegions | orderBy:sortTermFilter:orderList) track by country.name.en">
						<td ng-bind="country.name|lstring:locale"></td>
						<td><span ng-if="!country.isParty"
								class="color-grey color-non-party me-2 fs-small-6">ليس طرفًا</span> <span ng-if="country.isParty" class="color-party me-2 fs-small-6">طرف</span></td>
						<td ng-if="regions.length>0" ng-bind="::getRegions(country.code)"></td>
						<td ng-repeat="schema in country.schemas" ng-bind="schema.count"></td>
					<tr>

				</table>
			</div>
		</div>
		<div class="row mt-2">
			<div class="col-12"><span class="btn-group float-end dashboard-tour"><a class="text-decoration-none text-dark me-md-1" rel="noopener" ng-href="#"
						class="help-tour link2 text-decoration-none" ng-click="tour()"><i class="bi bi-question-circle-fill"></i> <span class="d-none d-lg-inline">القيام بجولة في صفحات معلومات البلدان</span></a></span></div>
		</div>
		<div id="listOfRecords" class="row bg-grey1 m-0 my-1 p-0 py-1 border">
			<div class="col-12 col-lg-5">

				<div class="dropdown d-inline" id="sortingRecords">
					<button class="btn btn-default btn-sm dropdown-toggle bg-white" type="button" id="dropdownMenu1"
						data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><i ng-if="sortTerm==='name.en'" class="fa"
							ng-class="{'fa-sort-alpha-asc':!orderList, 'fa-sort-alpha-desc':orderList}"
							style="width:20px;"></i> <span ng-if="sortTerm!=='name.en'">الترتيب حسب: <strong><span
									ng-bind="sortTerm|schemaShortName"></span></strong></span> <span class="caret"></span></button>
					<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
						<li><a class="text-decoration-none" rel="noopener" translation-url href="#"
								ng-click="sortTable('name.en', 'ASC')"><i class="bi bi-sort-alpha-down"></i><!-- <i class=" fa fa-sort-alpha-asc" style="width:20px;"></i> --> الترتيب الأبجدي التصاعدي</a></li>
						<li><a class="text-decoration-none" rel="noopener" translation-url href="#"
								ng-click="sortTable('name.en', 'DESC')"><i class="bi bi-sort-alpha-down"></i>Sort alphabetical Z-A <!-- <i class=" fa fa-sort-alpha-desc" style="width:20px;"></i> --> Sort alphabetical Z-A</a></li>
						<li role="separator" class="divider"></li>
						<li><a class="text-decoration-none" rel="noopener" translation-url href="#"
								ng-repeat="header in headerCount" ng-click="sortTable(header.schema)"
								ng-bind="header.schema |schemaNamePlural"></a></li>
					</ul>
				</div>

				<div id="sortingRecordsCountries" km-select required name="countryFilter" ng-model="countryFilter"
					items="options.countries()" multiple placeholder="البلدان" display-count="0"
					icon="fa-globe"></div>

				<div id="sortingRecordsPartyStatus" class="dropdown d-inline">
					<button class="btn btn-default btn-sm dropdown-toggle bg-white" type="button" id="dropdownMenu2"
						data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><span><strong ng-if="partyFilter==='All' || !partyFilter"><span class="d-none d-md-inline">Party Status</span> <span class="d-md-none">PS</span></strong> <strong ng-if="partyFilter == 'party'"><i class="color-party fa fa-square"></i> <span class="hidden-sm hidden-xs">Parties</span> <span ng-if="isBCH">to the Cartagena Protocol</span></strong> <strong ng-if="partyFilter == 'NKLSParty'"><i class="color-NKLSP fa fa-square"></i> <span class="hidden-sm hidden-xs">Parties to the Supplementary Protocol</span></strong> <strong ng-if="partyFilter == 'inbetween'"><i class="color-inbetween fa fa-square"></i> <span class="hidden-sm hidden-xs">Ratified, not yet Party<span ng-if="isBCH"> to the Cartagena Protocol</span></span></strong> <strong ng-if="partyFilter == 'nonparty'"><i class="color-non-party fa fa-square"></i> <span class="hidden-sm hidden-xs">Non-Parties<span ng-if="isBCH"> to the Cartagena Protocol</span></span></strong></span> <span class="caret"></span></button>
					<ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
						<li><a class="text-decoration-none" rel="noopener" translation-url href="#"
								ng-click="setPartyFilter('All');">Show all</a></li>
						<li role="separator" class="divider"></li>
						<li><a class="text-decoration-none" rel="noopener" translation-url href="#"
								ng-click="setPartyFilter('party');"><i class="color-party fa fa-square"></i> Parties <span ng-if="isBCH">to the Cartagena Protocol</span></a></li>
						<li ng-if="isBCH"><a class="text-decoration-none" rel="noopener" translation-url href="#"
								ng-click="setPartyFilter('NKLSParty');"><i class="color-NKLSP fa fa-square"></i> Parties to the Supplementary Protocol</a></li>
						<li><a class="text-decoration-none" rel="noopener" translation-url href="#"
								ng-click="setPartyFilter('inbetween');"><i class="color-inbetween fa fa-square"></i> Ratified, not yet Party <span ng-if="isBCH">to the Cartagena Protocol</span></a></li>
						<li><a class="text-decoration-none" rel="noopener" translation-url href="#"
								ng-click="setPartyFilter('nonparty');"><i class="color-non-party fa fa-square"></i> Non-Parties <span ng-if="isBCH">to the Cartagena Protocol</span></a></li>
					</ul>
				</div>

				<div id="sortingRecordsRegions" km-select required name="regions" ng-model="regions"
					items="options.regions()" multiple placeholder="Regions" display-count="0"
					 icon="fa-object-group">
				</div>

				<button ng-if="list.length" id="exportingRecords" type="button"
					class="btn btn-default btn-sm bg-white text-uppercase" ng-click="export()"
					ng-disabled="readyForExport||loading"><i class="fa fa-download"></i> <span class="d-none d-md-inline">تصدير</span></button>
			</div>
			<div class="col-md-7 evenly-spaced center-text d-none d-lg-grid justify-content-between">
				<div ng-repeat="header in headerCount" class="text-center"><span class="cursor-pointer" ng-click="sortTable(header.schema)" data-bs-toggle="tooltip"
						title="{{header.title|lstring:locale}}" data-container="body"><span id="nrCount-{{header.shortCode}}" class="bold color-black"
							ng-bind="header.shortCode">&nbsp;<i class="bi bi-info-circle-fill"></i></span><br> <span class="badge rounded-pill bg-dark" ng-bind="header.count"></span></span></div>
			</div>
		</div><!--end row--><div ng-if="!list.length" class="row m-0 border-bottom border-2 px-3 pt-1 pb-2"><span>No countries found for selected filter</span></div>
		<div class="row linkWhite m-0 border-bottom border-2 px-0 pt-1 pb-2" ng-click="gotoCountryProfile(country.code)"
			ng-repeat="country in list = (countries | filter:hasCountries | filter: hasStatus | filter: hasRegions | orderBy:sortTermFilter:orderList) track by country.name.en">
			<div class="col-lg-5">

				<div class="d-inline-block"><span ng-bind="$index+1"></span></div>

				<div class="d-inline ms-1 ps-3"><span class="fs-5"
						ng-class="{'color-party': (country.isParty && isBCH), 'color-green': (country.isParty && isABS), 'color-grey color-non-party':!country.isParty, 'color-inbetween': country.isInbetweenParty}"><span ng-bind="country.name|lstring:locale"></span></span></div>
				<div class="ms-4 ps-2 text-uppercase fw-bold">
					<div ng-if="isABS"><span ng-if="!country.isParty && !country.isInbetweenParty"
							class="color-grey color-non-party fs-small-6 me-2">Non-Party</span> <span ng-if="country.isParty" class="color-party fs-small-6 me-2">Party to the Nagoya Protocol</span> <span ng-if="country.isInbetweenParty" class="color-inbetween fs-small-6 me-2">Ratified, not yet Party</span> <span ng-if="country.isSignatory" class="fs-small-6 me-2">Signatory</span> <span ng-if="country.entryIntoForce"
							class="color-grey color-non-party fs-small-6 me-3">since <span
								ng-bind="country.entryIntoForce|formatDate"></span></span></div>
					<div ng-if="isBCH"><span ng-if="!country.isParty" class="color-grey color-non-party fs-small-6 me-2">Non-Party to the Cartagena Protocol</span> <span ng-if="country.isParty" class="color-party fs-small-6 me-2">Party to the Cartagena Protocol</span> <span ng-if="isBCH && country.isNKLSParty" class="color-NKLSP fs-small-6 me-2">PARTY TO THE SUPPLEMENTARY PROTOCOL</span></div>
				</div>
			</div>

			<div class="col-lg-7 evenly-spaced justify-content-between center-text d-none d-md-grid text-nowrap mt-1"><span class="color-litegrey text-center" ng-repeat="schema in country.schemas"
					ng-click="gotoCountryProfile(country.code, schema, $event)"><span ng-bind="schema.shortCode"></span> <br class="hidden-sm"> <span class="badge" ng-class="{'zero':schema.count==0, 'bg-success':schema.count>0}"><span ng-bind="schema.count" class="text-white"></span></span></span></div>
		</div>


	</div><!--end loading--><joyride ng-if="tourOn"></joyride>
</div><!--end controller-->