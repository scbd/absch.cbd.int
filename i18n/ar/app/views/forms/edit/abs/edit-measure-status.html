<div  dir="rtl">

    <div ng-include="'/app/views/forms/edit/edit_header.html'"></div>

    <div class="edit-measure-status innerPageEditForm"  style="padding: 24px;background-color:#FFF;border-bottom:2px solid #ccc;"><span block-region activate="isLoading()" ng-if="isLoading()" dir="rtl"></span><div class="registerpage-content">
            <div>
                <workflow-arrow-buttons on-review-language-change="onReviewLanguageChange(lang)" document="getCleanDocument()" languages="document.header.languages" hide-timer="false"
                                        tab="tab" validation-report="validationReport" on-post-close="onPostClose()" on-error="onError(error, errorCode)"
                                        on-post-publish="onPostPublishOrRequest(data)" on-pre-publish="onPrePublish()" on-pre-save-draft="onPreSaveDraft()"
                                        on-post-save-draft="onPostSaveDraft(data)" on-post-request="onPostPublishOrRequest(data)" on-pre-request="onPreRequest()"
                                        data-container="{{container}}" is-dialog="{{isDialog}}"><!-- <intro-form></intro-form> --> <!--only use it if default article intro is not required --><edit-form>

                        <form class="editForm" name="editForm" style="margin-top:10px">
                            <div ng-show="tab=='edit'" km-tab="edit">

                                <section>
                                    <legend>معلومات عامة</legend>
                                    <div class="row">
                                        <div class="col-xs-12" >
                                            <div class="km-control-group" name="header.languages" required caption="يُرجى تحديد اللغات التي تريد إرسال هذا السجل بها:">
                                                <div class="indent">
                                                    <div km-form-languages multiple required name="header.languages" ng-model="document.header.languages"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" name="government" required caption="البلد">
                                                <div afc-autocomplete required name="government" ng-disabled="userGovernment()" ng-model="document.government" ng-change="onCountryChange(document.government.identifier)"
                                                     source="options.countries" filter="genericFilter" mapping="genericMapping" selectbox="true" placeholder="Please select a country..."></div>
                                            </div>
                                        </div>
                                    </div>
                                </section>
                                <section>
                                    <legend>حالة اعتماد تدابير الحصول على الموارد وتقاسم المنافع</legend>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="km-control-group" required name="jurisdiction" caption="* ما مستوى نطاق الاختصاص الذي يشير فيه هذا السجل إلى الحالة الحالية لتدابير الحصول على الموارد وتقاسم المنافع؟">
                                                <div km-select name="jurisdiction" ng-model="document.jurisdiction" ng-disabled="!document.government.identifier" 
                                                    locales="document.header.languages" items="options.jurisdictions()" ng-change="updateTitle()"></div>
                                            </div>
                                        </div>

                                        <div class="col-md-12" ng-if="document.jurisdiction && isSubnational()">
                                            <div class="km-control-group"  name="jurisdiction.customValue" caption="">
                                                <label name="jurisdiction.customValue" required="isSubnational()" class="control-label" for="jurisdiction.customValue">اسم منطقة الاختصاص دون الوطنية</label>
                                                <div km-textbox-ml required="isSubnational()"  ng-model="document.jurisdiction.customValue" ng-change="updateTitle()"
                                                    locales="document.header.languages"></div>
                                            </div>
                                        </div>
                                        <div class="col-md-12" ng-if="document.jurisdiction && isCommunity()">
                                            <div class="km-control-group" name="jurisdiction.customValue" caption="">
                                                <label name="jurisdiction.customValue" required="isCommunity()" class="control-label" for="jurisdiction.customValue">اسم المجتمع</label>
                                                <div km-textbox-ml required="isCommunity()" ng-model="document.jurisdiction.customValue" placeholder=""
                                                ng-change="updateTitle()" locales="document.header.languages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="isJurisdictionRegional() && !isEu()">
                                        <div class="alert alert-warning">
                                            <h4>يُرجى العلم أنه ينبغي تسجيل التدابير الإقليمية أو متعددة الأطراف مرة واحدة فقط في غرفة تبادل المعلومات بشأن الحصول على الموارد وتقاسم المنافع، وأن التدبير سيظهر كجزء من الإطار القانوني لكل البلدان المحددة ضمن نطاق تغطية التدبير الإقليمي في صفحة المعلومات الخاصة بها. من الأفضل أن يوافق بلد واحد على تسجيل التدابير بالنيابة عن المنظمة الإقليمية أو مجموعة البلاد التي تشترك في التدبير نفسه.</h4>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="isJurisdictionRegional() && isEu()"><!--  for EU only--><div class="col-xs-3">
                                            <div class="km-control-group form-group" required name="jurisdictionRegions" caption="">
                                                <label name="jurisdictionRegions" for="jurisdictionRegions">مناطق الاختصاص</label>
                                                <div km-select multiple required name="regions"
                                                    ng-model="jurisdictionRegions.regions" placeholder="يُرجى تحديد الخيارات المطلوبة"
                                                    items="options.regions()"></div>
                                            </div>
                                        </div>
                                        <div class="col-xs-1">أو</div>
                                        <div class="col-xs-3">
                                        <div class="km-control-group form-group" name="jurisdictionCountries" caption="">
                                                <label name="jurisdictionCountries" required class="control-label" for="jurisdictionCountries">بلدان الاختصاص</label>
                                                <div km-select multiple required  ng-model="jurisdictionRegions.countries" placeholder="يُرجى تحديد الخيارات المطلوبة" items="options.countries()"></div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="row">
                                        <div class="col-xs-3">
                                            <div class="km-control-group" required name="adoption" caption="تاريخ نشر السجل">
                                                <div km-date placeholder="يوم - شهر - سنة" name="adoption" required ng-model="document.adoption" ng-change="updateTitle()"></div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-sm-12 jurisdiction-title">
                                            <div class="km-control-group" required name="title" caption="العنوان">
                                                <div km-textbox-ml disabled ng-disable="true" name="title" required ng-model="document.title" locales="document.header.languages"></div>
                                            </div>
                                        </div>
                                    </div><!-- ToDo: labels need to verify --><div class="row">
                                       <div class="col-xs-12">
                                            <div class="km-control-group" name="measureEstablished" required caption="ما هي حالة تدابير الحصول على الموارد وتقاسم المنافع في بلدك (أو منطقة الاختصاص الموضحة)؟">

                                                <label class="control-label planing-plc">
                                                    <input type="radio" ng-model="document.measureEstablished" ng-value="true" name="measureEstablished" ng-click="onMeasureEstablished()" />نعم، تم إعداد تدابير الحصول على الموارد وتقاسم المنافع</label>
                                                <label class="control-label planing-plc">
                                                    <input type="radio" ng-model="document.measureEstablished" ng-value="false" name="measureEstablished" ng-click="onMeasureEstablished()" />لا، لم يتم إعداد تدابير الحصول على الموارد وتقاسم المنافع</label>
                                            </div>
                                       </div>
                                        <div class="col-xs-12" ng-if="document.measureEstablished">
                                            <label name="status" for="status">يرجى تحديد الحالة</label>
                                            <div class="km-control-group" name="status" required caption="">
                                                <div km-term-radio name="noStatus" required ng-model="document.status" locales="document.header.languages"
                                                    terms="options.yesStatus()" show-description="true" binding-type="term">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-12" ng-if="document.measureEstablished != undefined && !document.measureEstablished">
                                            <label name="status" for="status">يرجى تحديد الحالة</label>
                                            <div class="km-control-group" name="status" required caption="">
                                                <div km-term-radio required name="yesStatus" ng-model="document.status" locales="document.header.languages"
                                                    terms="options.noStatus()" show-description="true" binding-type="term">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12" ng-if="document.measureEstablished != undefined">
                                        <div class="km-control-group" name="statusDescription"  caption="يُرجى إضافة المزيد من المعلومات عن مستوى الإنجاز في إعداد تدابير الحصول على الموارد وتقاسم المنافع أو ملخص لأبرز الصعوبات والتحديات أثناء إعداد هذه التدابير أو كليهما.">
                                            <div km-textbox-ml name="statusDescription" required ng-model="document.statusDescription" locales="document.header.languages"></div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" name="isSubjectToPic" required caption="هل الحصول على الموارد الجينية مرهون بالموافقة المسبقة عن علم على النحو المنصوص عليه في المادة 6,1؟">
                                                <div km-yes-no required name="isSubjectToPic" ng-model="document.isSubjectToPic" locales="document.header.languages"></div>
                                            </div>
                                        </div>

                                        <div class="col-xs-12" ng-if="document.isSubjectToPic != undefined && !document.isSubjectToPic">
                                            <div class="km-control-group" name="noPicStatus" required caption="">
                                                <label name="noPicStatus" for="noPicStatus">يرجى تحديد حالة الموافقة المسبقة عن علم</label>
                                                <div km-term-radio required name="noPicStatus" ng-model="document.noPicStatus" locales="document.header.languages"
                                                     terms="options.noPicStatus()" show-description="true" binding-type="term">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-12" ng-if="document.isSubjectToPic">
                                            <div class="km-control-group" required name="picMeasures" caption="يرجى تحديد التدابير الملائمة للحصول على الموارد وتقاسم المنافع من القائمة التالية التي تنظم الحصول على الموارد الجينية.">
                                                <div document-selector ng-disabled="!document.government.identifier" name="picMeasures" ng-model="document.picMeasures" question="measure"
                                                     on-build-query="onMeaureQuery(searchText)" allow-new-schema="measure" allow-new="true" filter="true"></div>
                                            </div>
                                        </div>
                                        <div class="col-xs-12" ng-if="document.isSubjectToPic != undefined">
                                            <div class="km-control-group" name="picMeasuresDescription"  caption="يرجى شرح الإجابة بالتفصيل.">
                                                <div km-textbox-ml name="picMeasuresDescription" required ng-model="document.picMeasuresDescription" locales="document.header.languages"></div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" name="hasIplc" required caption="هل في بلدك (أو في منطقة الاختصاص الموضحة) شعوب أصلية ومجتمعات ومحلية؟">
                                                <div km-yes-no required name="hasIplc" ng-model="document.hasIplc" locales="document.header.languages"></div>
                                            </div>
                                        </div>
                                        <div class="col-xs-12" ng-if="document.hasIplc">
                                            <div class="km-control-group" name="iplcType" required caption="">
                                                <div km-term-radio required name="iplcType" ng-model="document.iplcType" locales="document.header.languages"
                                                     terms="options.iplcType()" show-description="true" binding-type="term">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-12" ng-if="document.hasIplc != undefined">
                                            <div class="km-control-group" name="iplcDescription" caption="يرجى شرح الإجابة بالتفصيل.">
                                                <div km-textbox-ml name="iplcDescription" required ng-model="document.iplcDescription" locales="document.header.languages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" name="hasIplcRightEstablished" required caption="هل للشعوب الأصلية والمجتمعات المحلية حق منصوص عليه في القوانين المحلية لمنح الحصول على الموارد الجينية وفقا لقوانينك المحلية؟">
                                                <div km-yes-no ng-model="document.hasIplcRightEstablished" ng-click="onHasIplcRightChange()" locales="document.header.languages"></div>
                                            </div>
                                        </div>
                                        <div class="col-xs-12" ng-if="document.hasIplcRightEstablished">
                                            <label name="isIplcRightFullyImplemented" for="isIplcRightFullyImplemented">هل تم تطبيق حقوق الشعوب الأصلية والمجتمعات المحلية بالكامل؟</label>
                                            <label class="control-label planing-plc">
                                                <input type="radio" ng-model="document.isIplcRightFullyImplemented" ng-value="true" name="isIplcRightFullyImplemented" />نعم (تم تطيبقها بالكامل)</label>
                                            <label class="control-label planing-plc">
                                                <input type="radio" ng-model="document.isIplcRightFullyImplemented" ng-value="false" name="isIplcRightFullyImplemented" />إلى حد ما</label>

                                            <div class="km-control-group" name="iplcMeasures" required caption="يُرجى تحديد التدابير الملائمة للحصول على الموارد وتقاسم المنافع من القائمة التالية التي تنظم الحصول على الموارد الجينية في حوزة الشعوب الأصلية والمجتمعات المحلية.">
                                                <div document-selector ng-disabled="!document.government.identifier" name="iplcMeasures" ng-model="document.iplcMeasures" question="measure"
                                                on-build-query="onMeaureQuery(searchText)" allow-new-schema="measure" allow-new="true" filter="true"></div>
                                            </div>

                                            <div class="km-control-group" required name="otherIplcRelatedRecords" caption="يُرجى تحديد المعلومات الأخرى السارية ذات الصلة المرتبطة بإجراءات الحصول على الموارد وتقاسم المنافع، وبمواقع الويب أو قواعد البيانات الوطنية، وبالبروتوكولات والإجراءات المجتمعية والقوانين العرفية، وبالهيئات الوطنية المختصة أو بأي مما سبق من القائمة التالية.">
                                                <div document-selector ng-disabled="!document.government.identifier" name="otherIplcRelatedRecords"  ng-model="document.otherIplcRelatedRecords" question="measure"
                                                     on-build-query="onRecordQuery(searchText)" filter="true"></div>
                                            </div>

                                        </div>
                                        <div class="col-xs-12" ng-if="document.hasIplcRightEstablished != undefined && !document.hasIplcRightEstablished">
                                            <label name="isIplcRightInPlan" for="isIplcRightInPlan">هل حقوق الشعوب الأصلية والمجتمعات المحلية مدرجة في الخطط المستقبلية؟</label>
                                            <label class="control-label planing-plc">
                                                <input type="radio" ng-model="document.isIplcRightInPlan" ng-value="true" name="isIplcRightInPlan" />نعم في صورة مسودة أو قيد التخطيط</label>
                                            <label class="control-label planing-plc">
                                                <input type="radio" ng-model="document.isIplcRightInPlan" ng-value="false" name="isIplcRightInPlan" />ليست مدرجة في أي خطط</label>
                                        </div>
                                        <div class="col-xs-12" ng-if="document.hasIplcRightEstablished != undefined">
                                                <div class="km-control-group" name="iplcMeasuresDescription" caption="يرجى شرح الإجابة بالتفصيل.">
                                                    <div km-textbox-ml name="iplcMeasuresDescription" required ng-model="document.iplcMeasuresDescription" locales="document.header.languages"></div>
                                                </div>
                                          </div>
                                       </div>
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" name="hasStepsForIplcApproval" required caption="هل اتخذ بلدك (أو منطقة الاختصاص الموضحة) أي تدابير لضمان الحصول على المعارف التقليدية المرتبطة بالموارد الجينية في حوزة الشعوب الأصلية والمجتمعات المحلية في بلدك بناء على الموافقة المسبقة لهذه الشعوب والمجتمعات عن علم أو موافقتها ومشاركتها بالإضافة إلى الحرص على وضع شروط متفق عليها بصورة متبادلة؟">
                                                <div km-yes-no required ng-model="document.hasStepsForIplcApproval" ng-click="onHasStepsChange()" locales="document.header.languages"></div>
                                            </div>
                                        </div>
                                        <div class="col-xs-12" ng-if="document.hasStepsForIplcApproval">
                                          <label  name="isStepsForIplcApprovalImplemented" for="isStepsForIplcApprovalImplemented">هل تم تطبيق أي خطوات للحصول على الموافقة المسبقة للشعوب الأصلية والمجتمعات المحلية عن علم؟</label>
                                                 <label class="control-label planing-plc">
                                                <input type="radio" ng-model="document.isStepsForIplcApprovalImplemented" ng-value="true" name="isStepsForIplcApprovalImplemented" />نعم (تم تطيبقها بالكامل)</label>
                                            <label class="control-label planing-plc">
                                                <input type="radio" ng-model="document.isStepsForIplcApprovalImplemented" ng-value="false" name="isStepsForIplcApprovalImplemented" />إلى حد ما</label>

                                            <div class="km-control-group" required name="iplcApprovalMeasures" caption="يُرجى تحديد التدابير الملائمة للحصول على الموارد الجينية وتقاسم المنافع من القائمة التالية التي تنظم الحصول على الموارد الجينية في حوزة الشعوب الأصلية والمجتمعات المحلية">
                                                <div document-selector ng-disabled="!document.government.identifier" name="iplcApprovalMeasures"  ng-model="document.iplcApprovalMeasures" question="measure"
                                                    on-build-query="onMeaureQuery(searchText)"allow-new-schema="measure" allow-new="true" filter="true"></div>
                                            </div>

                                            <div class="km-control-group" required name="otherIplcApprovalRecords" caption="يُرجى تحديد المعلومات الأخرى السارية ذات الصلة المرتبطة بإجراءات الحصول على الموارد وتقاسم المنافع، وبمواقع الويب أو قواعد البيانات الوطنية، وبالبروتوكولات والإجراءات المجتمعية والقوانين العرفية، وبالهيئات الوطنية المختصة أو بأي مما سبق من القائمة التالية">
                                                <div document-selector ng-disabled="!document.government.identifier" name="otherIplcApprovalRecords" ng-model="document.otherIplcApprovalRecords" question="measure"
                                                     on-build-query="onRecordQuery(searchText)" filter="true"></div>
                                            </div>

                                        </div>
                                        <div class="col-xs-12" ng-if="!document.hasStepsForIplcApproval && document.hasStepsForIplcApproval != undefined">
                                            <label  name="isStepsForIplcApprovalInPlan" for="isStepsForIplcApprovalInPlan">هل تشتمل الخطة على خطوات الحصول على موافقة الشعوب الأصلية والمجتمعات المحلية؟</label>
                                            <label class="control-label planing-plc">
                                                <input type="radio" ng-model="document.isStepsForIplcApprovalInPlan" ng-value="true" name="isStepsForIplcApprovalInPlan" />نعم في صورة مسودة أو قيد التخطيط</label>
                                            <label class="control-label planing-plc">
                                                <input type="radio" ng-model="document.isStepsForIplcApprovalInPlan" ng-value="false" name="isStepsForIplcApprovalInPlan" />ليست مدرجة في أي خطط</label>

                                        </div>
                                       <div class="col-xs-12" ng-if="document.hasStepsForIplcApproval != undefined">
                                            <div class="km-control-group" name="iplcApprovalDescription" caption="يرجى شرح الإجابة بالتفصيل.">
                                                <div km-textbox-ml name="iplcApprovalDescription" required ng-model="document.iplcApprovalDescription" locales="document.header.languages"></div>
                                            </div>
                                       </div>
                                    </div>
                                </section>

                                <section>
                                    <legend>معلومات إضافية</legend>
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" name="address" caption="أي معلومات أخرى ذات صلة">
                                                <div class="help-block">يُرجى استخدام هذه الخانة في إضافة أي معلومات أخرى ذات صلة لم تُذكر أو لم تُستخدم في مكان آخر في هذا السجل.</div>
                                                <div km-rich-textbox ng-model="document.relevantInformation" rows="4" placeholder="" locales="document.header.languages"></div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" name="relevantDocuments" caption="أي وثائق أخرى ذات صلة">
                                                <div km-link name="relevantDocuments" ng-model="document.relevantDocuments" allow-link="true" allow-file="true" identifier="document.header.identifier"></div>
                                            </div>
                                        </div>
                                    </div>
                                </section>
                                <section>
                                    <legend>ملاحظات</legend>
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="km-control-group" name="notes">
                                                <div class="help-block">خانة "الملاحظات" للاستخدام الشخصي ولن تظهر إلا عند تعديل السجل. وبعد نشر السجل ستختفي الخانة مرة أخرى. This field is not meant to be used for confidential information.</div>
                                                <div km-notes name="notes" ng-model="document.notes"></div>
                                            </div>
                                        </div>
                                    </div>
                                </section>

                            </div>
                        </form>
                    </edit-form>
                    <review-form>
                        <view-measure-status ng-model="review.document" locale="review.locale" allow-drafts="true"></view-measure-status>
                    </review-form>
                </workflow-arrow-buttons>
                </div>

            </div>
        </div>
    </div>
