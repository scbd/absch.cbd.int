<div dir="rtl">

    <div>
        <div ng-show="binding">
            <style></style>
			<div class="km-value">
                <table class="table">
                    <tr ng-repeat="construct in binding" style="margin-bottom:5px;">
                        <td style="vertical-align: middle;width:3%"></td>
                        <td>
                            <view-lmo-gene ng-model="construct"></view-lmo-gene>
                        </td>
                    </tr>
                </table>
			</div>
		</div>

        <button type="button" class="btn btn-primary" ng-click="openContructDialog()"></button>
    
    </div>

    <script type="text/ng-template" id="gene-construct-dialog" trados-translation="true">

        <style dir="rtl"></style>
        <div class="modal-header" dir="rtl">
            <h3 class="modal-title"></h3>
        </div>
        <div class="modal-body"  dir="rtl">   
            <div class="help-info"></div>
            <div class="gene-construct">
                <div class="dropzone">
                    <div class="row">
                        <div class="col-sm-8">             
                            <div class="container-element">
                                <ul class="itemlist">

                                    <li ng-repeat="item in constructOptions" dnd-draggable="item" dnd-type="'item'"
                                        dnd-effect-allowed="copy" dnd-dragend="moved($index,'elements')" dnd-moved="constructOptions.splice($index, 1)">
                                        <div ng-include="'gene-construct'" onload="showAdd=false">

                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-sm-4 pull-right">       
                            <div class="trashcan">   
                                <div class="help-info"></div>                             
                                <ul dnd-list="[]">
                                    <li></li>
                                </ul>
                            </div>
                        </div>
                        <hr />
                        <div class="col-sm-12"></legend>                
                            <div class="container-element" style="border:1px solid #eee">
                                <ul dnd-list="newConstruct" class="itemlist">
                                    <li ng-repeat="item in newConstruct" dnd-draggable="item" dnd-type="'item'" dnd-effect-allowed="move"
                                        dnd-dragend="moved($index,'dropLocation')" dnd-moved="newConstruct.splice($index, 1)">
                                        <div ng-include="'gene-construct'" onload="showAdd=true">
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer" dir="rtl">
            <button type="button" class="btn btn-default" aria-label="Close" ng-click="closeDialog()" ng-disabled="loading||forTour"></button>
            <button type="button" class="btn btn-primary pull-left" aria-label="Save" ng-click="saveConstruct()" ></button>   
        </div>

    </script>
    <script type="text/ng-template" id="gene-construct"  trados-translation="true">
        <table cellspacing="0px" class="lmo-transcript {{item.type}}" dir="rtl">                
            <tr>
                <td class="left" ></td>
                <td class="middle">
                    <div ng-show="!item.gene"></div>

                         <div ng-if="showAdd" document-selector ng-model="item.selectedGene" question="dnaSequence" caption="" type="radio"
                                on-build-query="onDnaSequenceQuery(searchText)" filter="true" ng-change="geneSelected(item)" allow-new="true" allow-new-schema="dnaSequence">
                                <select-records></select-records>
                                <selected-records>
                                    <div ng-show="$parent.$parent.item.gene"><input type="number" ng-model="item.size" style="width:50px" min="0"/></div>
                                </selected-records>
                            </div></div>
                </td>
                <td class="right"></td>
            </tr>
        </table>
    </script>

</div>