<div id="RegisterPage">

    <link href="/app/css/register.css" rel="stylesheet">
    <link href="/app/css/record.css" rel="stylesheet"><span register-top-menu></span><style> .ngdialog-content { background: transparent !important; } .ngdialog.ngdialog-theme-default.wide .ngdialog-content { width: 750px !important; } </style>


    <div class="innerPageContent register-content card card-1-notrans mb-5">

        <div class="register-content-header bg-darkgrey text-white">
            <div class="p-2">
                <h3>Gestion de l’usager <span class="helpinfoInline"><i class="bi bi-info-circle-fill helpicon float-end" ng-click="showInfo = !showInfo"></i></span></h3><!--help info----------------------------><div ng-if="showInfo" class="p-3 card well-help"><strong>Gestion de l’usager pour les usagers autorisés au CE-APA</strong><p>Cette page permet aux correspondants nationaux (CN) de désigner ou de modifier la désignation de l'autorité de publication ainsi qu’elle permet à l'autorité de publication (AP) de désigner ou mettre à jour les utilisateurs nationaux autorisés (UNA). Vous trouverez ci-dessous tous les utilisateurs autorisés au CE-APA autorisés à travailler sur les fichiers nationaux de votre pays. Vous pouvez sélectionner un compte CBD particulier et cliquer sur « éditer » pour assigner / révoquer des rôles (par exemple, changer l'autorité de publication ou supprimer un NAU). Si une personne possédant déjà un compte CBD n'apparaît pas en tant qu'usager autorisé au CE-APA pour votre pays, vous pouvez les trouver en cliquant sur «Ajouter un usager autorisé». Grâce à cette fonctionnalité, vous pouvez rechercher parmi tous les comptes CBD en utilisant leurs adresses courriel, et leur attribuer un rôle de AP ou UNA. Cette fonctionnalité vous permet également d'attribuer des rôles à quelqu'un qui n'a pas encore de compte CBD. Pour ce faire, cliquez sur «Ajouter un usager autorisé» et entrez une adresse couriel l et d'autres renseignements sur la personne que vous souhaitez inclure comme AP ou UNA. Le Centre d'échange sur l'accès et le partage des avantages leur enverra une demande de courriel automatisée pour activer leur compte. Une fois qu'ils ont activé leur compte CBD, ils peuvent commencer à travailler sur les fichiers nationaux.</p><strong>Fonctions des autorités de publication (AE)</strong><p>L’AP est responsable de :<ul>
                        <li>Autoriser la publication de tous les documents nationaux enregistrés dans le Centre d'échange sur l'accès et le partage des avantages;</li>
                        <li>Supprimer des enregistrements déjà publiés dans le Centre d'échange sur l'accès et le partage des avantages, le cas échéant;</li>
                        <li>Veiller à ce que les informations mises à disposition dans le Centre d'échange sur l'accès et le partage des avantages soient complètes, pertinentes et à jour; et</li>
                        <li>Veiller à ce qu'aucune donnée confidentielle ne soit publiée dans le Centre d'échange sur l'accès et le partage des avantages. Le Centre d'échange sur l'accès et le partage des avantages n'héberge aucune information confidentielle et toute l'information publiée dans le Centre d'échange sur l'accès et le partage des avantages est accessible au grand public.</li>
                    </ul>
                    </p><strong>Fonctions des usagers nationaux autorisés (UNA)</strong><p>La fonction des UNA est d'assister l'AP dans la préparation des projets de fichiers nationaux. Les UNA sont uniquement autorisés à créer et à gérer des documents d'ébauche qui sont ensuite transmis à l'AP pour publication.</p>

                </div>
            </div>
        </div>


        <div class="register-content-content">
            <div class="row">


                <div class="col-12" ng-show="error">

                    <div ng-switch="error.code + '-' + error.field">
                        <div class="alert alert-warning" ng-switch-when="mandatory-government"><b>Oups...</b> Vous n'êtes pas autorisé à accéder à cette page. Cette page est seulement accessible aux usagers nationaux. Veuillez contacter le absch@cbd.int si vous avez besoin d’aide.</div>
                        <div class="alert alert-warning" ng-switch-when="forbidden-"><b>Oups...</b> Nous sommes désolés, vous n’êtes pas autorisé à accéder à cette page.</div>
                        <div class="alert alert-danger" ng-switch-default><b>Oups...</b> Nous sommes désolés, une erreur est survenue.<span ng-bind="error|json"></span></div>
                    </div>

                </div>

                <div class="offset-md-8 col-md-4" ng-hide="error">
                    <div class="input-group mb-1">
                        <input type="text" class="form-control" ng-model="searchText.$" ng-disabled="loading"
                            placeholder="Chercher parmi la liste des usagers nationaux..."><span class="input-group-text" id="basic-addon1"><i class="bi bi-search"></i></span></div>
                </div>

                <div class="col-12" ng-hide="error">


                    <div class="table-responsive">
                        <table class="table table-hover table-light w-100">
                            <thead>
                                <tr class="text-secondary">
                                    <th>Usager</th>
                                    <th>Organisation/division</th>
                                    <th style="max-width:20rem">Rôles</th>
                                    <th class="text-end">
                                        <button type="button" class="btn btn-outline-secondary btn-sm m-1 text-nowrap"
                                            ng-click="search()" ng-disabled="loading || !canAdd()">Add <span class="d-none d-sm-inline">Authorized User</span> <i
                                                class="bi bi-plus-circle"></i></button>
                                    </th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr class="text-secondary"
                                ng-repeat="u in users | filter:defaultFilter | filter:searchText | orderBy:sortKey ">
                                <td><b><span ng-bind="u.firstName+' '+u.lastName"></span></b> <br> <a class="text-decoration-none" rel="noopener" translation-url href="mailto:{{u.email}}"
                                        ng-bind="u.email"></a></td>
    
                                <td ng-bind="u.organization" class="fs-small-8"></td>
    
                                <td><span ng-repeat="rid in u.roles|filter:isContextRole"><span class="badge bg-secondary fw-bold fs-small-6"
                                            ng-bind="roles[rid].name"></span> <br> </span> <a class="text-decoration-none" rel="noopener" translation-url href="#"
                                        style="font-size:75%" ng-click="u.showExtraRoles=!u.showExtraRoles"
                                        ng-show="(u.roles|filter:isNotContextRole).length"><span ng-show="!u.showExtraRoles">Montrer les rôles supplémentaires <i
                                                class="fa fa-caret-down"></i></span> <span ng-show=" u.showExtraRoles">Cacher les rôles supplémentaires <i
                                                class="fa fa-caret-up"></i></span></a><div ng-if="u.showExtraRoles"><span ng-repeat="rid in u.roles|filter:isNotContextRole"><span class="badge bg-info fw-bold fs-small-6"
                                                ng-bind="roles[rid].name"></span> <br> </span></div>
                                </td>
                                <td class="text-end">
                                    <div class="btn-group btn-group-sm mt-1" role="group" aria-label="...">
                                        <button type="button" class="btn btn-outline-secondary" ng-click="edit(u)"
                                            ng-disabled="!canEdit(u)"><i class="bi bi-list-ul"></i></button>
                                        <button type="button" class="btn btn-outline-secondary" ng-click="dropUser(u)"
                                            ng-disabled="!canDrop(u)"><i class="bi bi-trash-fill"></i></button>
                                    </div>
                                </td>
    
                            </tr>

                            <tr class="text-secondary" ng-if="!users">
                                <td colspan="4"><i class="fa fa-cog fa-spin fa-fw"></i> Chargement en cours...</td>
                            </tr>

                            <tr class="text-secondary" ng-if="!!users">
                                <td colspan="3"><span
                                        ng-bind="(users | filter:defaultFilter | filter:searchText).length+' of '+users.length"></span> | <a class="text-decoration-none" rel="noopener" translation-url href="#"
                                        ng-show="!$parent.showAll"
                                        ng-click="$parent.showAll=true;$parent.searchText={}">Voir plus <i class="bi bi-caret-down-fill"></i></a> <a class="text-decoration-none" rel="noopener" translation-url href="#"
                                        ng-show=" $parent.showAll"
                                        ng-click="$parent.showAll=false;$parent.searchText={}">Voir moins <i class="bi bi-caret-up-fill"></i></a></td>
                                <td class="text-end">
                                    <button type="button" class="btn btn-outline-secondary btn-sm m-1 text-nowrap"
                                     ng-click="search()" ng-disabled="loading || !canAdd()">Ajouter un utilisateur autorisé <i class="bi bi-plus-circle"></i></button>
                                </td>
                            </tr>
                              </tbody>
                        </table>
                      </div>
                </div>
            </div>
        </div>
    </div>

</div>