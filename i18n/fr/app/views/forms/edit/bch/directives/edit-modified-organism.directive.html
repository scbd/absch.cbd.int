<div>

<div class="innerPageEditForm"><span block-region activate="isLoading()" ng-if="isLoading()"></span><div class="registerpage-content">

			<workflow-arrow-buttons on-review-language-change="onReviewLanguageChange(lang)" document="getCleanDocument()" languages="document.header.languages" hide-timer="false" tab="tab"
			 validation-report="validationReport" on-post-close="onPostClose()" on-error="onError(error, errorCode)"
			 on-post-publish="onPostPublishOrRequest(data)" on-pre-publish="onPrePublish()" on-pre-save-draft="onPreSaveDraft()"
			 on-post-save-draft="onPostSaveDraft(data)" on-post-request="onPostPublishOrRequest(data)" on-pre-request="onPreRequest()"
			 data-container="{{container}}" is-dialog="{{isDialog}}" document-type="{{type}}">
				<edit-form>
					<form class="editForm mt-2" name="editForm">
						<div>

							<section>
								<div class="no-shadow bg-white">
									<legend>Informations générales</legend>
									<div class="row">
										<div class="col-xs-12">
											<div class="km-control-group" name="header.languages" required caption="Veuillez sélectionner la ou les langues dans lesquelles vous souhaitez soumettre ce fichier :">
												<div class="indent">
													<div km-form-languages multiple required name="header.languages" ng-model="document.header.languages"></div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</section>

							<section>
								<div class="no-shadow bg-white">
									<legend>Identité de l'organisme vivant modifié(LMO)</legend>
									<div class="row">
										<div class="col-sm-12">
											<div class="km-control-group"  name="identity" caption="Nom de l'OVM">
												<div class="help-block">Nom couramment utilisé pour identifier l'OVM, comme le nom commercial (par ex., soja Roundup, pomme de terre NewLeaf ® , etc.)</div>
												<div km-textbox-ml name="identity"  ng-model="document.identity" locales="document.header.languages"></div>
											</div>
										</div>
										<div class="col-sm-12">
											<div class="km-control-group" required name="transformationEvent" caption="Événement de transformation">
												<div class="help-block">Nom de l'événement de transformation, par ex. MON810</div>
												<input type="text" class="form-control" name="transformationEvent" required ng-model="document.transformationEvent"/>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" name="hasUniqueIdentification" required caption="Cet OVM possède-t-il un identifiant unique?">
												<div class="help-block">Le BCH utilise actuellement le système d'identifiant unique figurant dans les Directives de l'OCDE pour la désignation des identifiants uniques pour les plantes transgéniques (par ex. MON-ØØ81Ø-6). Pour de plus amples informations visiter <a rel="noopener" href="/kb/tags/lmo-gene-orga/What-are-Unique-Identifiers-UIDs-/5ff77cb5261fe900012a0fef">https://bch.cbddev.xyz/en/kb/tags/lmo-gene-orga/What-are-Unique-Identifiers-UIDs-/5ff77cb5261fe900012a0fef</a>.</div>
												<div km-yes-no required ng-model="document.hasUniqueIdentification" locales="document.header.languages"></div>
											</div>
										</div>
										<div class="col-sm-12" ng-if="document.hasUniqueIdentification">
											<div class="km-control-group" required name="uniqueIdentification" caption="Identifiant unique">
												<input type="text" class="form-control" name="uniqueIdentification" required ng-model="document.uniqueIdentification"
													ng-change="lookupDetections()"/>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" required name="developers" caption="Développeur(s)">	
												<div document-selector ng-model="document.developers" caption="Personne-ressource" question="developers"
														on-build-query="onContactQuery(searchText)" allow-new="true" allow-new-schema="contact"></div>
											</div>
										</div>
										<div class="col-sm-12">
											<div class="km-control-group" required name="description" caption="Description">
												<div km-rich-textbox rows="4" name="description" required ng-model="document.description" locales="document.header.languages"></div>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" required name="recipientOrganisms" caption="Organisme récepteur ou organismes parentaux">	
												<div class="help-block">Le terme « organisme récepteur » désigne un organisme (non modifié ou déjà modifié) ayant fait l'objet d'une modification génétique, tandis que les « organismes parentaux » désignent les organismes impliqués dans un croisement ou une fusion cellulaire pour générer un organisme modifié.</div>
												<div document-selector required ng-model="document.recipientOrganisms" caption="Ajouter un organisme vivant modifié" question="recipientOrganisms"
														on-build-query="onRecipientOrganismsQuery(searchText)" allow-new="true" allow-new-schema="organism,modifiedOrganism"></div>
											</div>
										</div>

										<div class="col-sm-12">
											<div class="km-control-group"  name="recipientOrganismCollectionPoint" caption="Point de collecte ou d'acquisition de l'organisme récepteur ou des organismes parentaux">
												<div km-textbox-ml name="recipientOrganismCollectionPoint"  ng-model="document.recipientOrganismCollectionPoint" locales="document.header.languages"></div>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" name="linkedModifiedOrganisms" caption="OVM connexe(s)">	
												<div class="help-block">Ce champs fait référence aux autres OVM avec des caractéristiques similaires.</div>
												<div document-selector ng-model="document.linkedModifiedOrganisms" question="linkedModifiedOrganism"
															on-build-query="onBuildQuery(searchText, 'modifiedOrganism')" allow-new="true" allow-new-schema="modifiedOrganism"></div>
											</div>
										</div>
									</div>
								</div>
							</section>
							

							<section>
								<div class="no-shadow bg-white">
									<legend>Caractéristiques du processus de modification</legend>
									<div class="row">
										<div class="col-sm-12">
											<div class="km-control-group" required name="vector" caption="Vecteur">
												<div class="help-block">Les vecteurs sont utilisés pour incorporer une séquence d'ADN (généralement la séquence promoteur-gène-terminateur) pour aider son transfert dans l'organisme receveur. Exemples : Plasmide Ti d'Agrobacterium et pBIN19.</div>
												<div km-textbox-ml name="vector"  ng-model="document.vector" locales="document.header.languages"></div>
											</div>
										</div>
										<div class="col-sm-12">
											<div class="km-control-group" required name="techniqueUsed" caption="Techniques utilisées pour la modification">
												<div km-term-check name="techniqueUsed" required ng-model="document.techniqueUsed"
													 terms="options.techniqueUsed" binding-type="term[]" locales="document.header.languages"></div>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" required name="genes" caption="Élément(s) génétique(s) introduit(s) ou modifié(S)">	
												<div class="help-block">De préférence, tous les éléments génétiques ayant été introduits dans cet OVM, tels que les promoteurs, les séquences codant des protéines et les terminateurs, doivent être indiqués dans cette section, l'inclusion de TOUTES les séquences codant des protéines étant le minimum requis.</div>
												<div document-selector ng-model="document.genes" question="genes" ng-change="onModifiedGeneChange(document.genes)"
															caption="Élément génétique" on-build-query="onBuildQuery(searchText, 'dnaSequence')" allow-new="true" allow-new-schema="dnaSequence">
													<selected-records>
														<div ng-include="'lmo-reference-display'" onload="docSelector=$parent"></div>
													</selected-records>
												</div>			
											</div>
										</div>
										<div class="col-sm-12">
											<div class="km-control-group" name="geneConstructs" caption="Construction d'éléments génétiques">
												<lmo-construct ng-model="document.geneConstructs" ng-change="onConstructChange()"></lmo-construct>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" name="geneNotes" caption="Notes concernant les éléments génétiques présents dans cet OVM">	
												<div class="help-block">Veuillez indiquer tout élément modifié par rapport à la séquence enregistrée dans le registre des éléments génétiques du CEPRB ainsi que les relations existant entre les différents éléments présents dans l'OVM, par exemple « séquence codant pour la protéine <i>epsps</i> sous le contrôle du promoteur <i>35S</i> et du terminateur <i>nos</i>.</div>
												<div km-rich-textbox name="geneNotes" rows="4"  ng-model="document.geneNotes" locales="document.header.languages"></div>	
											</div>
										</div>
									</div>
								</div>
							</section>
	
							
							<section>
								<div class="no-shadow bg-white">
									<legend>Caractéristiques de l'OVM</legend>
									<div class="row"><!-- <div class="col-xs-12">
											<div class="km-control-group" name="isGeneEdited" required
												caption="Was this LMO produced through a gene editing technique?">
												<div km-yes-no required ng-model="document.isGeneEdited" locales="document.header.languages">
												</div>
											</div>
										</div> --><div class="col-sm-12">
											<div  block-region activate="loadingGeneTraits" block-text="Updating trait...">
												<div class="km-control-group" required name="traits" caption="Traits modifiés">												
													<traits-selector ng-model="document.traits" locales="document.header.languages"></traits-selector>													
												</div>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" name="affectedGenes"
												caption="Autre(s) gène(s) dont l'expression a été affectée par la transformation">
												<div class="help-block">Cette section doit être utilisée pour spécifier des changements de l'expression de gènes autres que ceux ayant été insérés dans l'OVM, par exemple l'inactivation ou l'induction de gènes.</div>
												<div document-selector ng-model="document.affectedGenes" question="affectedGenes"
														caption="Élément génétique" on-build-query="onBuildQuery(searchText, 'dnaSequence')" allow-new="true" allow-new-schema="dnaSequence">
													<selected-records>
														<div ng-include="'lmo-reference-display'" onload="docSelector=$parent"></div>
													</selected-records>
												</div>
											</div>
										</div>
										<div class="col-xs-12">
											<div class="km-control-group" name="affectedGeneNotes"
												caption="Veuillez décrire les conséquences sur l'expression du ou des gènes">
												<div km-rich-textbox name="affectedGeneNotes" ng-model="document.affectedGeneNotes"
													locales="document.header.languages" rows="4"></div>
											</div>
										</div>
										<div class="col-sm-12">
											<div class="km-control-group" name="commonUses" caption="Usage (s) commun(s) de l’OVM">
												<div class="help-block">Choisissez les options qui s'appliquent.</div>
												<div km-term-check name="commonUses" required ng-model="document.commonUses"
													terms="options.commonUses" binding-type="term[]" locales="document.header.languages"></div>
											</div>
										</div>
									</div>
								</div>
							</section>
							<section>
								<div class="no-shadow bg-white">
									<legend>Méthode(s) de détection</legend>
									<div class="row">
										<div class="col-sm-12">
											<div class="help-block">Detection methods information from the CropLife International Detection Methods Database and the EU Reference Laboratory for GM Food and Feed (EURL-GMFF) is dynamically imported from each respective database. As such, these links cannot be manually edited or removed.</div>
											<div class="km-control-group" name="externalLinks" caption="Lien(s) externe(s)">
												<div km-link name="detectionMethodLinks" ng-model="document.detectionMethodLinks" allow-link="true" allow-file="true"
													identifier="document.header.identifier" ></div>
												<div km-link name="externalLinks" ng-model="externalLinks" ng-if="externalLinks" allow-link="false" allow-file="false" identifier="document.header.identifier"></div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-12">
											<div class="km-control-group" name="detectionMethod" caption="Information supplémentaire">
												<div km-rich-textbox ng-model="document.detectionMethod" rows="4" placeholder="" locales="document.header.languages"></div>
											</div>
										</div>
									</div>
								</div>
							</section>
							<section>
								<div class="no-shadow bg-white">
									<legend>Information supplémentaire</legend>
									<div class="row">
										<div class="col-sm-12">
											<div class="km-control-group" name="address" caption="Any other relevant information">
												<div class="help-block">Please use this field to provide any other relevant information that may not have been addressed elsewhere in the record.</div>
												<div km-rich-textbox ng-model="document.relevantInformation" rows="4" placeholder="" locales="document.header.languages"></div>
											</div>
										</div>
									</div>

									<div class="row">
										<div class="col-sm-12">
											<div class="km-control-group" name="relevantDocuments" caption="Autres documents pertinents">
												<div class="help-block">Veuillez utiliser ce champ pour toutes autres adresses de sites Web et/ou documents pertinents à conserver dans la base de données aux fins de téléchargement par les utilisateurs.</div>
												<div km-link name="relevantDocuments" ng-model="document.relevantDocuments" allow-link="true" allow-file="true"
												 identifier="document.header.identifier"></div>
											</div>
										</div>
									</div>
								</div>
							</section>
							<section>
								<legend>Notes</legend>

								<div class="row">
									<div class="col-sm-12">
										<div class="km-control-group" name="notes">
											<div class="help-block">Le champ « Notes » est réservé à votre usage personnel. Il ne peut être vu que pendant la modification du fichier. Il sera caché une fois le fichier publié. Ce champ n’est pas destiné à être utilisé pour des informations confidentielles.</div>
											<div km-notes name="notes" ng-model="document.notes"></div>
										</div>
									</div>
								</div>
							</section>

						</div>
					</form>
				</edit-form>
				<review-form>
					<div view-modified-organism ng-model="review.document" locale="review.locale" allow-drafts="true"></div>
				</review-form>
			</workflow-arrow-buttons>
		</div>
	</div>
	<div id="constructSection">
		<script type="text/ng-template" trados-translation="true" id="geneConstructModal">
			<lmo-construct ng-model="geneConstruct" close-dialog="closeDialog(updatedConstruct)"></lmo-construct>
		</script>
		<script type="text/ng-template" trados-translation="true" id="lmo-reference-display">			
			<table class="table" style="padding-bottom:3px;width:100%;margin-top:5px;">
				<tr ng-repeat="doc in docSelector.model"  >
					<td style="margin-bottom:15px;width:15px;"><a rel="noopener" translation-url  class="btn btn-default" ng-click="$parent.$parent.$parent.removeDocument(doc);" class="link color-red"><i class="fa fa-times"></i></a></td>
					<td class="mb-4">
						<div view-record-reference ng-model="doc.identifier" locale="locale" hide-schema="true"></div>
					</td>
				</tr>
			</table>
		</script>
	</div>
</div>