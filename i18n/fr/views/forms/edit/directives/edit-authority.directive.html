<div >
  
    <div class="innerPageEditForm edit-authority-directive" style="padding: 24px;background-color:#FFF;;border-bottom:2px solid #ccc;">
        <div class="registerpage-content">

            <warning-message-cna doc="document"></warning-message-cna>

            <workflow-arrow-buttons on-review-language-change="onReviewLanguageChange(lang)" document="getCleanDocument()" languages="document.header.languages" hide-timer="false"
            tab="tab" validation-report="validationReport" on-post-close="onPostClose()" on-error="onError(error, errorCode)"
            on-post-publish="onPostPublishOrRequest(data)" on-pre-publish="onPrePublish()" on-pre-save-draft="onPreSaveDraft()"
            on-post-save-draft="onPostSaveDraft(data)" on-post-request="onPostPublishOrRequest(data)" on-pre-request="onPreRequest()"
            data-container="{{container}}" is-dialog="{{isDialog}}" document-type="{{type}}">
                <edit-form>
                    <form class="editForm" name="editForm">
                        <div ng-show="tab=='edit'" km-tab="edit">
                            <legend name="formInfo" style="display:none"></legend>
        
                            <section>
                                <legend name="generalInfo">General Information</legend>

                                <div class="row">
                                    <div class="col-xs-12" >
                                        <div class="km-control-group" name="header.languages" required caption="Veuillez sélectionner la ou les langues dans lesquelles vous souhaitez soumettre ce fichier :">
                                            <div class="indent">
                                                <div km-form-languages multiple required name="header.languages" ng-model="document.header.languages"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="km-control-group" name="government" required caption="Pays">
                                            <div>
                                                <div afc-autocomplete required name="government" ng-disabled="userGovernment()"
                                                    ng-model="document.government" source="options.countries"
                                                    filter="genericFilter" mapping="genericMapping" selectbox="true"
                                                    placeholder="Veuillez choisir un pays..."></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-xs-12">                                        
                                        <div class="km-control-group" name="name" required caption="">
                                            <label name="name" class="control-label" required for="name"><span ng-if="type!='SPCA'">Nom de l’autorité nationale compétente</span> <span ng-if="type=='SPCA'">Nom de l’autorité nationale compétente</span></label>
                                            <div class="help-info">Fournissez le nom de l’entité responsable par ex. : Ministère de l’Environnement <span ng-if="isAbs">Gardez en tête que le nom de l’autorité nationale compétente vous aidera à identifier le fichier au Centre d’échange d’information pour l’APA.</span></div>
                                            <div km-textbox-ml name="name" required ng-model="document.name" rows="1"
                                                placeholder="" locales="document.header.languages"></div>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <section>
                                <legend name="coordinates">Coordonnées</legend>
                                <div class="help-info" ng-if="isAbs">Les coordonnées aideront les usagers des ressources génétiques à entrer en contact avec l’ANC. Il est important que garder cette information à jour afin de donner aux usagers l'information la plus récente et la plus précise.</div>

                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="km-control-group" name="address" caption="Adresse">
                                            <div km-textbox-ml ng-model="document.address" rows="2" placeholder="exemple: 413 rue St-Jacques Suite 800"
                                                locales="document.header.languages"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-xs-6">
                                        <div class="km-control-group" name="city" required caption="Ville">
                                            <div km-textbox-ml name="city" ng-model="document.city" required
                                                locales="document.header.languages" placeholder="exemple: Montréal :"></div>
                                        </div>
                                    </div>

                                    <div class="col-xs-6">
                                        <div class="km-control-group" name="state" caption="État ou province">
                                            <div km-textbox-ml name="state" ng-model="document.state" locales="document.header.languages"
                                                placeholder="example: Québec"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">

                                    <div class="col-xs-6">
                                        <div class="km-control-group" name="postalCode" caption="Code postal">
                                            <div km-textbox-ml name="postalCode" ng-model="document.postalCode"
                                                locales="document.header.languages" placeholder="example: H2Y 1N9"></div>
                                        </div>
                                    </div>

                                    <div class="col-xs-6" ng-if="options.countries">
                                        <div class="km-control-group" name="country" required caption="Pays de la personne à contacter*">
                                            <div afc-autocomplete name="country" ng-model="document.country" source="options.countries"
                                                mapping="genericMapping" selectbox="true" placeholder="Veuillez choisir un pays..."
                                                required filter="startsWithFilter" maxmatches="50"></div>
                                        </div>
                                    </div>
                                </div>



                                <div class="row">
                                    <div class="col-xs-6">
                                        <div class="km-control-group" name="phones" required caption="Téléphone (s) :">
                                            <div class="help-info">Veuillez utiliser le format suivant : +[country code] [city code] [telephone number] [extension, if necessary].</div>
                                            <div km-inputtext-list name="phones" ng-model="document.phones"
                                                required placeholder="example: +1 514.288.2220"></div>
                                        </div>
                                    </div>

                                    <div class="col-xs-6">
                                        <div class="km-control-group" name="faxes" caption="Télécopieur :">
                                            <div class="help-info">Veuillez utiliser le format suivant : +[country code] [city code] [telephone number] [extension, if necessary].</div>
                                            <div km-inputtext-list name="faxes" ng-model="document.faxes"
                                                placeholder="example: +1 514.288.6588"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-xs-6">
                                        <div class="km-control-group" name="emails" required caption="Email(s)">
                                            <div km-inputtext-list name="emails" required type="email" ng-model="document.emails"
                                                placeholder="exemple : secretariat@cbd.int"></div>
                                        </div>
                                    </div>

                                    <div class="col-xs-6">
                                        <div class="km-control-group" name="websites" caption="Adresse(s) du/des site(s) Web">
                                            <div km-link name="websites" ng-model="document.websites" allow-link="true"
                                                allow-file="false"></div>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <legend name="contactInfo">Coordonnées supplémentaires</legend>

                            <div class="row">
                                <div class="col-xs-12">
                                    <div class="km-control-group" name="contacts" caption="Personne à contacter">
                                        <div document-selector ng-model="document.contacts" question="contacts"
                                            ng-disabled="!document.government.identifier" 
                                            on-build-query="onContactQuery(searchText)" allow-new="true"
                                            allow-new-schema="contact{{isAbs ? ',authority':''}}"></div>

                                    </div>
                                </div>
                            </div>
                            </section><!-- This section will be remove if this not required for ABS --><section ng-if="isAbs">
                                <legend name="policyBasis">Bases juridiques, administratives et politiques pour la compétence de l’autorité nationale compétente</legend>
                                <div class="help-info">Dans cette section, une référence aux mesures d’APA liés qui accordent la compétence à l’ANC peut être incluse. Afin de lier l’ANC à une mesure APA pertinente, le fichier de la mesure APA doit être enregistré en premier. Ainsi, si vous n’avez pas encore soumis la mesure APA pertinente, vous voudrez peut-être sauvegarder l’ANC en tant que brouillon et publier d’abord la mesure APA.<br/> Dans cette section, une référence aux mesures d’APA liés qui accordent la compétence au Protocole de Cartagena peut être incluse. Afin de lier l’autorité nationale compétente à une mesure APA pertinente, le fichier de la mesure APA doit être enregistré en premier. Par conséquent, si vous n'avez pas encore soumis la mesure concernée, vous pouvez enregistrer l'autorité nationale compétente pour le Protocole de Cartagena en tant que projet et publier d'abord la mesure, ou vous pouvez créer la mesure en ligne.</div>
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="km-control-group" name="policyBasisForCompetencyRef" caption="Veuillez fournir un lien vers toutes les mesures juridiques, administratives ou politiques pertinentes.">
                                            <div document-selector ng-disabled="!document.government.identifier" ng-model="document.policyBasisForCompetencyRef"
                                                question="policyBasisForCompetencyRef"
                                                on-build-query="onMeasureQuery(searchText)" filter="true"
                                                allow-new="true" allow-new-schema="measure"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="km-control-group" name="policyBasisForCompetency" caption="Si nécessaire, fournissez des informations supplémentaires sur la base juridique, administrative ou politique de la compétence de l'autorité nationale compétente."></div>
                                        <div km-rich-textbox ng-model="document.policyBasisForCompetency" rows="6"
                                            placeholder="" locales="document.header.languages"></div>
                                    </div>
                                </div>
                            </section>


                            <section ng-if="isAbs">
                                <legend name="responsibilities">Responsabilités</legend>
                                <div class="help-info">Le paragraphe 4 de l’article 13 prévoit que lorsqu'une Partie désigne plus d'une autorité nationale compétente, elle indique au Secrétariat, avec sa notification à cet effet, quels sont les domaines de responsabilité respectifs de ces autorités. Le cas échéant, il sera au moins précisé quelle est l’autorité compétente responsable des ressources génétiques sollicitées.</div>
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="km-control-group" ng-show="showResponsibleforAllMsg()" name="responsibleForAllNot"
                                            caption="Il existe déjà une ANC pour votre pays, veuille spécifier l’étendue des responsabilités de chacune des ANC."></div>

                                        <div class="km-control-group" name="responsibleForAll" required caption="S’agit-il de l’unique autorité nationale compétente (ANC) dans votre pays? Si non, veuillez décrire les responsabilités de cette autorité nationale compétente (ANC).">

                                            <div km-yes-no required ng-model="document.responsibleForAll"
                                                locales="document.header.languages"></div>
                                        </div>
                                    </div>
                                </div><!-- IF NO SECTION --><div ng-class="{'disable':(document.responsibleForAll==true || document.responsibleForAll==null), 'bg-white':!(document.responsibleForAll==true || document.responsibleForAll==null) }"
                                    class="well no-shadow" style="padding-top:0;padding-bottom:0;">
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <h4 ng-show="document.responsibleForAll==null">Si non, l’information suivante est requise.</h4>
                                                    <h4 ng-show="document.responsibleForAll==true">Cette section n'est pas requise.</h3>
                                                        <div ng-show="document.responsibleForAll==false">
                                                            <h4 class="color-red">Cette section est requise lorsqu’il existe plus d’une autorité nationale compétente (ANC). Veuillez vous assurer que les responsabilités pour chacune des autorités nationales compétentes (ANC) soit bien décrite dans tous les fichiers publiés.</h4>
                                                        </div>

                                                        <div class="km-control-group" name="responsibilities"
                                                            caption="Brève description des responsabilités de l’ANC (maximum 300 caractères)."
                                                            required>
                                                            <div class="help-info">Le paragraphe 2 de l’Article 13, prévoit à ce que les autorités nationales compétentes, en conformité avec les mesures législatives et administratives ainsi que les politiques nationales applicables, sont chargées d’accorder l’accès ou, s’il y a lieu, de délivrer une preuve écrite que les conditions d’accès ont été respectées, et de fournir des conseils sur les procédures et les conditions d’obtention du consentement préalable donné en connaissance de cause et de conclusion de conditions convenues d’un commun accord ». Rappelez-vous que la raison d’être de cette section est d’aider les usagers à comprendre les responsabilités relatives à l’accès aux ressources génétiques en répondant à la question : Qui accorde un accès et pour quoi? La description des responsabilité doit être brève et facile à comprendre.</div>
                                                            <div km-rich-textbox name="responsibilities" ng-model="document.responsibilities"
                                                                rows="6" placeholder="" locales="document.header.languages"
                                                                required></div>
                                                        </div>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <div class="km-control-group" name="absJurisdiction" caption="La zone de juridiction pour octroyer l’accès aux ressources génétiques"
                                                        required>
                                                        <div class="help-info">L’information sur La zone de juridiction (échelon national/fédéral, infra national ou communautaire) aide à inventorier sur une carte les différentes responsabilités parmi les ANC.</div>
                                                        <div km-select multiple name="absJurisdiction" ng-model="document.absJurisdiction"
                                                            items="options.jurisdictions()" required></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-xs-6">
                                                    <div ng-show="showJurisdictionName()">
                                                        <div class="km-control-group" name="absJurisdictionName"
                                                            required caption="Nom de la/des  juridiction(s)">
                                                            <div km-textbox-ml ng-model="document.absJurisdictionName"
                                                                rows="1" locales="document.header.languages"
                                                                placeholder="Noms de juridiction"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <div class="km-control-group" name="absGeneticResourceTypes"
                                                        caption="Mots clés pour décrire l’étendue des responsabilités de l’ANC">
                                                        <div class="help-info">La collecte de ces informations est importante pour faciliter des recherches harmonisées parmi les fichiers. Veuillez sélectionner tous les mots clés pertinents qui peuvent aider à décrire les responsabilités de l’autorité nationale compétente.</div>
                                                        <div km-select multiple name="absGeneticResourceTypes"
                                                            ng-model="document.absGeneticResourceTypes" items="options.keywords()"
                                                            show-description="true"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div><!-- END IF NO SECTION --></section>

                            <section ng-if="isBch">
                                <legend>Responsabilités</legend>
                                <div class="help-info"><span ng-if="type!='SPCA'">Le paragraphe 2 de l’article 19 prévoit que « lorsqu'une Partie désigne plus d'une autorité nationale compétente, elle indique au Secrétariat, avec sa notification à cet effet, quels sont les domaines de responsabilité respectifs de ces autorités.» Le cas échéant, il sera au moins précisé quelle est l'autorité compétente pour chaque type d'organisme vivant modifié. »</span> <span ng-if="type=='SPCA'">S'il existe plus d'une autorité compétente chargée des fonctions visées à l'article 5 du Protocole additionnel de Nagoya - Kuala Lumpur sur la responsabilité et la réparation, veuillez préciser les fonctions de chaque autorité compétente.<br/> Si l'autorité compétente exerce d'autres fonctions liées à la responsabilité et à la réparation au-delà de celles énoncées à l'article 5 du Protocole additionnel, vous pouvez également fournir une description de ces fonctions ci-dessous.</span></div>
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div  ng-if="type!='SPCA'" class="km-control-group functions" name="functions" caption="Fonctions administratives" required>
                                            <div class="help-info"><span ng-if="type=='CNA'">Si il y a plus d’une autorité nationale compétente, veuillez compléter un modèle uniforme différent pour chacune des autorités. S'il n'y a qu'une seule autorité responsable de toutes les fonctions exigées en vertu du Protocole, veuillez choisir « Toutes les fonctions exigées par le Protocole de Cartagena sur la prévention des risques biotechnolgiques ».</span></div>
                                            <div km-term-check name="functions" required ng-model="document.functions" locales="document.header.languages"
                                            terms="options.functions()" binding-type="term[]" show-description="true"></div>
                                        </div>
                                        <div ng-if="type=='CNA'" class="km-control-group type-of-organism" name="cpbOrganismTypes" caption="Type(s) d’organisme(s) sous vôtre responsabilité" required>
                                            <div class="help-info">S'il n'y a qu'une seule autorité responsable de toutes les fonctions exigées en vertu du Protocole, veuillez choisir « Tous les types d’organismes »</div>
                                            <div km-term-check name="cpbOrganismTypes" required ng-model="document.cpbOrganismTypes" locales="document.header.languages"
                                            terms="options.bchOrganismTypes()" binding-type="term[]"></div>
                                        </div>

                                        <div  ng-if="type!='SPCA'" class="km-control-group" name="responsibilities" caption="Description détaillée des fonctions de réglementation">
                                            <div class="help-info" ng-if="type!=='SPCA'">Fournissez au besoin des informations additionnelles sur les fonctions régulatrices et les responsabilités de l’autorité nationale compétente.</div>
                                            <div km-rich-textbox name="responsibilities" ng-model="document.responsibilities"
                                                rows="6" placeholder="" locales="document.header.languages"></div>
                                        </div>
                                    </div>                                        
                                </div>
                            </section>
                            <section  ng-if="isBch && type=='SPCA'">
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="km-control-group" name="responsibleForAll" required caption="S’agit-il de l’unique autorité nationale compétente (ANC) pour le Protocole additionnel dans votre pays?">
                                            <div class="help-info">Si « non », veuillez décrire les responsabilités de l'autorité compétente dans la case ci-dessous. Veuillez remplir un format commun différent pour chaque autorité compétente.</div>
                                            <div km-yes-no required ng-model="document.responsibleForAll" locales="document.header.languages"></div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12">
                                        <div class="km-control-group" name="responsibilities" required="{{!document.responsibleForAll}}"
                                        caption="Brève description des responsabilités de l'autorité compétente (maximum 300 caractères)." >
                                        <div class="help-info">Cette information est requise lorsqu’il existe plus d’une autorité nationale compétente (ANC).</div>
                                        <div km-rich-textbox name="responsibilities" ng-model="document.responsibilities"
                                            rows="6" placeholder="" locales="document.header.languages"
                                            required="{{!document.responsibleForAll}}"></div>
                                    </div>
                                    </div>
                                </div>
                            </section>
                            <section ng-if="isBch">
                                <legend>Échéance pour la confirmation ou la mise à jour des informations</legend>
                                <div class="help-info">Veillez prendre note que cette catégorie d'information requiert que les informations soient confirmées ou mises à jour un an après la date de soumission. Après la date limite, vous serez invité à confirmer ou à mettre à jour les informations dans un délai de 3 mois. Passé ce délai, si aucune confirmation n'a été reçue, le fichier portera la mention "non confirmé".</div>
                            </section>
                            <section>
                                <legend>Informations supplémentaires</legend>
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="km-control-group" name="relevantInformation" caption="Informations supplémentaires">
                                            <div class="help-info">Veuillez utiliser ce champ pour tout autre renseignement pertinent n'ayant pas été abordé ailleurs dans le fichier.</div>
                                            <div km-rich-textbox name="relevantInformation" rows="6" ng-model="document.relevantInformation"
                                                locales="document.header.languages"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="km-control-group" name="relevantDocuments" caption="Autres documents pertinents">
                                            <div class="help-block">Veuillez utiliser ce champ pour toutes autres adresses de sites Web et/ou documents pertinents à conserver dans la base de données aux fins de téléchargement par les utilisateurs.</div>
                                            <div km-link name="relevantDocuments" ng-model="document.relevantDocuments" allow-link="true" allow-file="true" identifier="document.header.identifier"></div>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <section>
                                <legend>Notes</legend>
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="km-control-group" name="notes">
                                            <div class="help-info">Le champ « Notes » est réservé à votre usage personnel. Il ne peut être vu que pendant la modification du fichier. Il sera caché une fois le fichier publié. Ce champ n’est pas destiné à être utilisé pour des informations confidentielles.</div>
                                            <div km-notes name="notes" ng-model="document.notes"></div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>
                    </form>
                </edit-form>
                <review-form>
                    <view-authority ng-model="review.document" locale="review.locale" allow-drafts="true"></view-authority>
                </review-form>
            </div>

        </div>

    </div>

</div>